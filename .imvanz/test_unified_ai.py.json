[
  {
    "timestamp": "2025-11-21T22:33:49.427Z",
    "fileName": "test_unified_ai.py",
    "content": "\"\"\"\r\nØªØ³Øª Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ AI Ø¨Ø§ 4 Ù…Ø¯Ù„\r\nRAG + Fine-Tuning + LoRA + Prompt Engineering + Security\r\nimport io\r\n\"\"\"\r\n\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\n\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\nimport json\r\n\r\ndef print_section(title: str):\r\n    \"\"\"Ú†Ø§Ù¾ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(f\"  {title}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef print_response(response: dict):\r\n    \"\"\"Ú†Ø§Ù¾ Ù¾Ø§Ø³Ø® Ø¨Ø§ ÙØ±Ù…Øª Ø²ÛŒØ¨Ø§\"\"\"\r\n    print(json.dumps(response, indent=2, ensure_ascii=False))\r\n\r\ndef test_unified_ai_system():\r\n    \"\"\"ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\"\"\"\r\n    \r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"CAD3D UNIFIED AI SYSTEM - 4 METHODS INTEGRATION TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    # ===========================\r\n    # 1. Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 1: System Initialization\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    print(\"âœ… Unified AI System initialized\")\r\n    print(f\"   Methods available: {len(unified.get_system_status()['unified_ai_system']['methods_available'])}\")\r\n    \r\n    # ===========================\r\n    # 2. Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 2: System Status\")\r\n    \r\n    status = unified.get_system_status()\r\n    print(\"ğŸ” System Status:\")\r\n    print(f\"   Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n    \r\n    if status.get('rag'):\r\n        print(f\"\\n   ğŸ“š RAG System:\")\r\n        print(f\"      - Documents: {status['rag']['documents_indexed']}\")\r\n        print(f\"      - Retrievals: {status['rag']['total_retrievals']}\")\r\n        print(f\"      - Model: {status['rag']['embedding_model']}\")\r\n    \r\n    if status.get('security'):\r\n        print(f\"\\n   ğŸ›¡ï¸ Security System:\")\r\n        print(f\"      - Status: {status['security']['status']}\")\r\n        print(f\"      - Agents Created: {status['security']['agents_created']}\")\r\n    \r\n    print(f\"\\n   ğŸ“Š Usage Statistics:\")\r\n    for key, value in status['usage_statistics'].items():\r\n        print(f\"      - {key}: {value}\")\r\n    \r\n    # ===========================\r\n    # 3. ØªØ³Øª RAG\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 3: Testing RAG (Retrieval-Augmented Generation)\")\r\n    \r\n    query_rag = \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚ 5 Ø¯Ø± 4 Ù…ØªØ± Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ\"\r\n    print(f\"Query: {query_rag}\")\r\n    print(\"\\nExecuting RAG query...\")\r\n    \r\n    response_rag = unified.query(\r\n        query=query_rag,\r\n        method=AIMethodType.RAG,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_rag['method']}\")\r\n    print(f\"   Status: {response_rag['status']}\")\r\n    print(f\"   Retrieved Documents: {response_rag.get('num_docs', 0)}\")\r\n    \r\n    if response_rag.get('retrieved_documents'):\r\n        print(\"\\n   ğŸ“„ Top Documents:\")\r\n        for i, doc in enumerate(response_rag['retrieved_documents'][:2], 1):\r\n            print(f\"\\n      {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n            print(f\"         {doc['content'][:100]}...\")\r\n    \r\n    # ===========================\r\n    # 4. ØªØ³Øª Fine-Tuning\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 4: Testing Fine-Tuning\")\r\n    \r\n    query_ft = \"ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø± Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\"\r\n    print(f\"Query: {query_ft}\")\r\n    print(\"\\nExecuting Fine-Tuning query...\")\r\n    \r\n    response_ft = unified.query(\r\n        query=query_ft,\r\n        method=AIMethodType.FINE_TUNING,\r\n        task_type=AITaskType.CAD_ANALYSIS,\r\n        model=\"cad_analysis_v1\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_ft['method']}\")\r\n    print(f\"   Status: {response_ft['status']}\")\r\n    print(f\"   Model: {response_ft.get('model_used', 'N/A')}\")\r\n    print(f\"   Details: {response_ft.get('method_details', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 5. ØªØ³Øª LoRA\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 5: Testing LoRA (Low-Rank Adaptation)\")\r\n    \r\n    query_lora = \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù† 5 Ø·Ø¨Ù‚Ù‡\"\r\n    print(f\"Query: {query_lora}\")\r\n    print(\"\\nExecuting LoRA query...\")\r\n    \r\n    response_lora = unified.query(\r\n        query=query_lora,\r\n        method=AIMethodType.LORA,\r\n        task_type=AITaskType.STRUCTURAL_CALCULATION,\r\n        adapter=\"structural_calc\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_lora['method']}\")\r\n    print(f\"   Status: {response_lora['status']}\")\r\n    print(f\"   Adapter: {response_lora.get('adapter_used', 'N/A')}\")\r\n    print(f\"   Rank: {response_lora.get('rank', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 6. ØªØ³Øª Prompt Engineering\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 6: Testing Prompt Engineering\")\r\n    \r\n    query_prompt = \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù†Ù‡ 200 Ù…ØªØ±ÛŒ\"\r\n    print(f\"Query: {query_prompt}\")\r\n    print(\"\\nExecuting Prompt Engineering query...\")\r\n    \r\n    response_prompt = unified.query(\r\n        query=query_prompt,\r\n        method=AIMethodType.PROMPT_ENGINEERING,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        template=\"architectural_analysis\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_prompt['method']}\")\r\n    print(f\"   Status: {response_prompt['status']}\")\r\n    print(f\"   Template: {response_prompt.get('template_used', 'N/A')}\")\r\n    if response_prompt.get('prompt'):\r\n        print(f\"   Prompt Length: {len(response_prompt['prompt'])} characters\")\r\n    \r\n    # ===========================\r\n    # 7. ØªØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯Ú©Ø§Ø±\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 7: Testing Auto Method Selection\")\r\n    \r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¬Ù… Ø§ØªØ§Ù‚ 6Ã—4Ã—2.8 Ù…ØªØ±\",\r\n        \"ØªØ­Ù„ÛŒÙ„ Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\",\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡ Ø¨Ø±Ø§ÛŒ ØªÛŒØ±\",\r\n        \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ú†ÛŒØ¯Ù…Ø§Ù† Ø§ØªØ§Ù‚\"\r\n    ]\r\n    \r\n    print(\"Testing auto-routing for different queries:\\n\")\r\n    \r\n    for query in test_queries:\r\n        response = unified.query(query)  # Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† method\r\n        print(f\"   Query: {query}\")\r\n        print(f\"   â†’ Selected Method: {response['method']}\")\r\n        print()\r\n    \r\n    # ===========================\r\n    # 8. ØªØ³Øª Hybrid (ØªØ±Ú©ÛŒØ¨ÛŒ)\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 8: Testing Hybrid Approach\")\r\n    \r\n    query_hybrid = \"Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø¯Ø± Ø§ÛŒØ±Ø§Ù†\"\r\n    print(f\"Query: {query_hybrid}\")\r\n    print(\"\\nExecuting HYBRID query (RAG + Prompt Engineering)...\")\r\n    \r\n    response_hybrid = unified.hybrid_query(\r\n        query=query_hybrid,\r\n        methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING],\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Hybrid Query Executed\")\r\n    print(f\"   Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\n    print(f\"   Responses: {len(response_hybrid['individual_responses'])}\")\r\n    \r\n    for method, resp in response_hybrid['individual_responses'].items():\r\n        print(f\"\\n   ğŸ“Œ {method}:\")\r\n        print(f\"      Status: {resp['status']}\")\r\n        if 'num_docs' in resp:\r\n            print(f\"      Retrieved Docs: {resp['num_docs']}\")\r\n    \r\n    # ===========================\r\n    # 9. Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø±ÙˆØ´â€ŒÙ‡Ø§\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 9: Comparing All 4 Methods\")\r\n    \r\n    comparison = unified.compare_methods()\r\n    \r\n    print(\"ğŸ“Š Method Comparison:\\n\")\r\n    \r\n    for method, details in comparison['comparison'].items():\r\n        print(f\"   ğŸ”¹ {method}:\")\r\n        print(f\"      Setup Time: {details['setup_time']}\")\r\n        print(f\"      Cost: {details['cost']}\")\r\n        print(f\"      Quality: {details['quality']}\")\r\n        print(f\"      GPU Required: {'Yes' if details['gpu_required'] else 'No'}\")\r\n        print(f\"      Best For: {', '.join(details['best_for'][:2])}...\")\r\n        print()\r\n    \r\n    print(\"   ğŸ’¡ Recommendations:\")\r\n    for key, value in comparison['recommendation'].items():\r\n        print(f\"      {key.replace('_', ' ').title()}: {value}\")\r\n    \r\n    # ===========================\r\n    # 10. Ø¢Ù…Ø§Ø± Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 10: Final Statistics\")\r\n    \r\n    final_status = unified.get_system_status()\r\n    stats = final_status['usage_statistics']\r\n    \r\n    print(\"ğŸ“ˆ Usage Statistics:\")\r\n    print(f\"   Total Queries: {stats['total_queries']}\")\r\n    print(f\"   RAG Calls: {stats['rag_calls']}\")\r\n    print(f\"   Fine-Tuning Calls: {stats['fine_tuning_calls']}\")\r\n    print(f\"   LoRA Calls: {stats['lora_calls']}\")\r\n    print(f\"   Prompt Engineering Calls: {stats['prompt_calls']}\")\r\n    print(f\"   Hybrid Calls: {stats['hybrid_calls']}\")\r\n    \r\n    # ===========================\r\n    # Ø®Ù„Ø§ØµÙ‡ Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“Š FINAL SUMMARY\")\r\n    print(\"=\"*80)\r\n    \r\n    print(f\"\\nâœ… All 4 AI Methods Tested Successfully!\")\r\n    print(f\"   1. RAG - Retrieval-Augmented Generation\")\r\n    print(f\"   2. Fine-Tuning - Specialized Training\")\r\n    print(f\"   3. LoRA - Low-Rank Adaptation\")\r\n    print(f\"   4. Prompt Engineering - Careful Prompting\")\r\n    \r\n    print(f\"\\nğŸ”— Integration Status:\")\r\n    print(f\"   âœ… Security System: {'Integrated' if final_status.get('security') else 'Not Available'}\")\r\n    print(f\"   âœ… Auto-Routing: Enabled\")\r\n    print(f\"   âœ… Hybrid Queries: Supported\")\r\n    print(f\"   âœ… Total Methods: 4\")\r\n    \r\n    print(\"\\nâœ… Unified AI System is fully operational!\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef test_rag_knowledge_base():\r\n    \"\"\"ØªØ³Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“š RAG KNOWLEDGE BASE TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    if not unified.rag_system:\r\n        print(\"âŒ RAG System not available\")\r\n        return\r\n    \r\n    print(\"ğŸ“– Testing RAG Knowledge Base:\\n\")\r\n    \r\n    # Ù¾Ø±Ø³Ø´â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡\r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚\",\r\n        \"Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯\",\r\n        \"Ù†Ø³Ø¨Øª Ù¾Ù†Ø¬Ø±Ù‡ Ø¨Ù‡ Ú©Ù\",\r\n        \"Ø´ÛŒØ¨ Ù„ÙˆÙ„Ù‡ ÙØ§Ø¶Ù„Ø§Ø¨\",\r\n        \"room area calculation\"\r\n    ]\r\n    \r\n    for i, query in enumerate(test_queries, 1):\r\n        print(f\"{i}. Query: {query}\")\r\n        \r\n        results = unified.rag_system.retrieve(query, top_k=2)\r\n        \r\n        if results:\r\n            print(f\"   Retrieved: {len(results)} documents\")\r\n            for doc, score in results[:1]:\r\n                print(f\"   â†’ {doc.doc_id} (Score: {score:.2f})\")\r\n                print(f\"      {doc.content[:80]}...\")\r\n        else:\r\n            print(\"   No results\")\r\n        print()\r\n    \r\n    # Ø¢Ù…Ø§Ø±\r\n    stats = unified.rag_system.get_statistics()\r\n    print(f\"ğŸ“Š RAG Statistics:\")\r\n    print(f\"   Documents Indexed: {stats['documents_indexed']}\")\r\n    print(f\"   Total Retrievals: {stats['total_retrievals']}\")\r\n    print(f\"   Avg Retrieval Time: {stats['avg_retrieval_time_ms']:.2f} ms\")\r\n    print(f\"   Vector Store Size: {stats['vector_store_size']}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\nif __name__ == \"__main__\":\r\n    try:\r\n        # ØªØ³Øª 1: Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\r\n        test_unified_ai_system()\r\n        \r\n        input(\"\\nâ¸ï¸  Press ENTER to continue to RAG Knowledge Base Test...\")\r\n        \r\n        # ØªØ³Øª 2: Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\r\n        test_rag_knowledge_base()\r\n        \r\n        print(\"\\nâœ… All tests completed successfully!\")\r\n        print(\"ğŸ‰ Unified AI System with 4 methods is fully operational!\\n\")\r\n        \r\n    except KeyboardInterrupt:\r\n        print(\"\\n\\nâš ï¸ Test interrupted by user\")\r\n    except Exception as e:\r\n        print(f\"\\n\\nâŒ Test failed: {e}\")\r\n        import traceback\r\n        traceback.print_exc()\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T22:34:09.841Z",
    "fileName": "test_unified_ai.py",
    "content": "\"\"\"\r\nØªØ³Øª Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ AI Ø¨Ø§ 4 Ù…Ø¯Ù„\r\nRAG + Fine-Tuning + LoRA + Prompt Engineering + Security\r\nimport io\r\n\"\"\"\r\n\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\n\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\nimport json\r\n\r\ndef print_section(title: str):\r\n    \"\"\"Ú†Ø§Ù¾ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(f\"  {title}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef print_response(response: dict):\r\n    \"\"\"Ú†Ø§Ù¾ Ù¾Ø§Ø³Ø® Ø¨Ø§ ÙØ±Ù…Øª Ø²ÛŒØ¨Ø§\"\"\"\r\n    print(json.dumps(response, indent=2, ensure_ascii=False))\r\n\r\ndef test_unified_ai_system():\r\n    \"\"\"ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\"\"\"\r\n    \r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"CAD3D UNIFIED AI SYSTEM - 4 METHODS INTEGRATION TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    # ===========================\r\n    # 1. Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 1: System Initialization\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    print(\"âœ… Unified AI System initialized\")\r\n    print(f\"   Methods available: {len(unified.get_system_status()['unified_ai_system']['methods_available'])}\")\r\n    \r\n    # ===========================\r\n    # 2. Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 2: System Status\")\r\n    \r\n    status = unified.get_system_status()\r\n    print(\"ğŸ” System Status:\")\r\n    print(f\"   Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n    \r\n    if status.get('rag'):\r\n        print(f\"\\n   ğŸ“š RAG System:\")\r\n        print(f\"      - Documents: {status['rag']['documents_indexed']}\")\r\n        print(f\"      - Retrievals: {status['rag']['total_retrievals']}\")\r\n        print(f\"      - Model: {status['rag']['embedding_model']}\")\r\n    \r\n    if status.get('security'):\r\n        print(f\"\\n   ğŸ›¡ï¸ Security System:\")\r\n        print(f\"      - Status: {status['security']['status']}\")\r\n        print(f\"      - Agents Created: {status['security']['agents_created']}\")\r\n    \r\n    print(f\"\\n   ğŸ“Š Usage Statistics:\")\r\n    for key, value in status['usage_statistics'].items():\r\n        print(f\"      - {key}: {value}\")\r\n    \r\n    # ===========================\r\n    # 3. ØªØ³Øª RAG\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 3: Testing RAG (Retrieval-Augmented Generation)\")\r\n    \r\n    query_rag = \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚ 5 Ø¯Ø± 4 Ù…ØªØ± Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ\"\r\n    print(f\"Query: {query_rag}\")\r\n    print(\"\\nExecuting RAG query...\")\r\n    \r\n    response_rag = unified.query(\r\n        query=query_rag,\r\n        method=AIMethodType.RAG,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_rag['method']}\")\r\n    print(f\"   Status: {response_rag['status']}\")\r\n    print(f\"   Retrieved Documents: {response_rag.get('num_docs', 0)}\")\r\n    \r\n    if response_rag.get('retrieved_documents'):\r\n        print(\"\\n   ğŸ“„ Top Documents:\")\r\n        for i, doc in enumerate(response_rag['retrieved_documents'][:2], 1):\r\n            print(f\"\\n      {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n            print(f\"         {doc['content'][:100]}...\")\r\n    \r\n    # ===========================\r\n    # 4. ØªØ³Øª Fine-Tuning\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 4: Testing Fine-Tuning\")\r\n    \r\n    query_ft = \"ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø± Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\"\r\n    print(f\"Query: {query_ft}\")\r\n    print(\"\\nExecuting Fine-Tuning query...\")\r\n    \r\n    response_ft = unified.query(\r\n        query=query_ft,\r\n        method=AIMethodType.FINE_TUNING,\r\n        task_type=AITaskType.CAD_ANALYSIS,\r\n        model=\"cad_analysis_v1\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_ft['method']}\")\r\n    print(f\"   Status: {response_ft['status']}\")\r\n    print(f\"   Model: {response_ft.get('model_used', 'N/A')}\")\r\n    print(f\"   Details: {response_ft.get('method_details', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 5. ØªØ³Øª LoRA\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 5: Testing LoRA (Low-Rank Adaptation)\")\r\n    \r\n    query_lora = \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù† 5 Ø·Ø¨Ù‚Ù‡\"\r\n    print(f\"Query: {query_lora}\")\r\n    print(\"\\nExecuting LoRA query...\")\r\n    \r\n    response_lora = unified.query(\r\n        query=query_lora,\r\n        method=AIMethodType.LORA,\r\n        task_type=AITaskType.STRUCTURAL_CALCULATION,\r\n        adapter=\"structural_calc\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_lora['method']}\")\r\n    print(f\"   Status: {response_lora['status']}\")\r\n    print(f\"   Adapter: {response_lora.get('adapter_used', 'N/A')}\")\r\n    print(f\"   Rank: {response_lora.get('rank', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 6. ØªØ³Øª Prompt Engineering\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 6: Testing Prompt Engineering\")\r\n    \r\n    query_prompt = \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù†Ù‡ 200 Ù…ØªØ±ÛŒ\"\r\n    print(f\"Query: {query_prompt}\")\r\n    print(\"\\nExecuting Prompt Engineering query...\")\r\n    \r\n    response_prompt = unified.query(\r\n        query=query_prompt,\r\n        method=AIMethodType.PROMPT_ENGINEERING,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        template=\"architectural_analysis\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_prompt['method']}\")\r\n    print(f\"   Status: {response_prompt['status']}\")\r\n    print(f\"   Template: {response_prompt.get('template_used', 'N/A')}\")\r\n    if response_prompt.get('prompt'):\r\n        print(f\"   Prompt Length: {len(response_prompt['prompt'])} characters\")\r\n    \r\n    # ===========================\r\n    # 7. ØªØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯Ú©Ø§Ø±\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 7: Testing Auto Method Selection\")\r\n    \r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¬Ù… Ø§ØªØ§Ù‚ 6Ã—4Ã—2.8 Ù…ØªØ±\",\r\n        \"ØªØ­Ù„ÛŒÙ„ Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\",\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡ Ø¨Ø±Ø§ÛŒ ØªÛŒØ±\",\r\n        \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ú†ÛŒØ¯Ù…Ø§Ù† Ø§ØªØ§Ù‚\"\r\n    ]\r\n    \r\n    print(\"Testing auto-routing for different queries:\\n\")\r\n    \r\n    for query in test_queries:\r\n        response = unified.query(query)  # Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† method\r\n        print(f\"   Query: {query}\")\r\n        print(f\"   â†’ Selected Method: {response['method']}\")\r\n        print()\r\n    \r\n    # ===========================\r\n    # 8. ØªØ³Øª Hybrid (ØªØ±Ú©ÛŒØ¨ÛŒ)\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 8: Testing Hybrid Approach\")\r\n    \r\n    query_hybrid = \"Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø¯Ø± Ø§ÛŒØ±Ø§Ù†\"\r\n    print(f\"Query: {query_hybrid}\")\r\n    print(\"\\nExecuting HYBRID query (RAG + Prompt Engineering)...\")\r\n    \r\n    response_hybrid = unified.hybrid_query(\r\n        query=query_hybrid,\r\n        methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING],\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Hybrid Query Executed\")\r\n    print(f\"   Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\n    print(f\"   Responses: {len(response_hybrid['individual_responses'])}\")\r\n    \r\n    for method, resp in response_hybrid['individual_responses'].items():\r\n        print(f\"\\n   ğŸ“Œ {method}:\")\r\n        print(f\"      Status: {resp['status']}\")\r\n        if 'num_docs' in resp:\r\n            print(f\"      Retrieved Docs: {resp['num_docs']}\")\r\n    \r\n    # ===========================\r\n    # 9. Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø±ÙˆØ´â€ŒÙ‡Ø§\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 9: Comparing All 4 Methods\")\r\n    \r\n    comparison = unified.compare_methods()\r\n    \r\n    print(\"ğŸ“Š Method Comparison:\\n\")\r\n    \r\n    for method, details in comparison['comparison'].items():\r\n        print(f\"   ğŸ”¹ {method}:\")\r\n        print(f\"      Setup Time: {details['setup_time']}\")\r\n        print(f\"      Cost: {details['cost']}\")\r\n        print(f\"      Quality: {details['quality']}\")\r\n        print(f\"      GPU Required: {'Yes' if details['gpu_required'] else 'No'}\")\r\n        print(f\"      Best For: {', '.join(details['best_for'][:2])}...\")\r\n        print()\r\n    \r\n    print(\"   ğŸ’¡ Recommendations:\")\r\n    for key, value in comparison['recommendation'].items():\r\n        print(f\"      {key.replace('_', ' ').title()}: {value}\")\r\n    \r\n    # ===========================\r\n    # 10. Ø¢Ù…Ø§Ø± Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 10: Final Statistics\")\r\n    \r\n    final_status = unified.get_system_status()\r\n    stats = final_status['usage_statistics']\r\n    \r\n    print(\"ğŸ“ˆ Usage Statistics:\")\r\n    print(f\"   Total Queries: {stats['total_queries']}\")\r\n    print(f\"   RAG Calls: {stats['rag_calls']}\")\r\n    print(f\"   Fine-Tuning Calls: {stats['fine_tuning_calls']}\")\r\n    print(f\"   LoRA Calls: {stats['lora_calls']}\")\r\n    print(f\"   Prompt Engineering Calls: {stats['prompt_calls']}\")\r\n    print(f\"   Hybrid Calls: {stats['hybrid_calls']}\")\r\n    \r\n    # ===========================\r\n    # Ø®Ù„Ø§ØµÙ‡ Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“Š FINAL SUMMARY\")\r\n    print(\"=\"*80)\r\n    \r\n    print(f\"\\nâœ… All 4 AI Methods Tested Successfully!\")\r\n    print(f\"   1. RAG - Retrieval-Augmented Generation\")\r\n    print(f\"   2. Fine-Tuning - Specialized Training\")\r\n    print(f\"   3. LoRA - Low-Rank Adaptation\")\r\n    print(f\"   4. Prompt Engineering - Careful Prompting\")\r\n    \r\n    print(f\"\\nğŸ”— Integration Status:\")\r\n    print(f\"   âœ… Security System: {'Integrated' if final_status.get('security') else 'Not Available'}\")\r\n    print(f\"   âœ… Auto-Routing: Enabled\")\r\n    print(f\"   âœ… Hybrid Queries: Supported\")\r\n    print(f\"   âœ… Total Methods: 4\")\r\n    \r\n    print(\"\\nâœ… Unified AI System is fully operational!\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef test_rag_knowledge_base():\r\n    \"\"\"ØªØ³Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“š RAG KNOWLEDGE BASE TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    if not unified.rag_system:\r\n        print(\"âŒ RAG System not available\")\r\n        return\r\n    \r\n    print(\"ğŸ“– Testing RAG Knowledge Base:\\n\")\r\n    \r\n    # Ù¾Ø±Ø³Ø´â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡\r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚\",\r\n        \"Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯\",\r\n        \"Ù†Ø³Ø¨Øª Ù¾Ù†Ø¬Ø±Ù‡ Ø¨Ù‡ Ú©Ù\",\r\n        \"Ø´ÛŒØ¨ Ù„ÙˆÙ„Ù‡ ÙØ§Ø¶Ù„Ø§Ø¨\",\r\n        \"room area calculation\"\r\n    ]\r\n    \r\n    for i, query in enumerate(test_queries, 1):\r\n        print(f\"{i}. Query: {query}\")\r\n        \r\n        results = unified.rag_system.retrieve(query, top_k=2)\r\n        \r\n        if results:\r\n            print(f\"   Retrieved: {len(results)} documents\")\r\n            for doc, score in results[:1]:\r\n                print(f\"   â†’ {doc.doc_id} (Score: {score:.2f})\")\r\n                print(f\"      {doc.content[:80]}...\")\r\n        else:\r\n            print(\"   No results\")\r\n        print()\r\n    \r\n    # Ø¢Ù…Ø§Ø±\r\n    stats = unified.rag_system.get_statistics()\r\n    print(f\"ğŸ“Š RAG Statistics:\")\r\n    print(f\"   Documents Indexed: {stats['documents_indexed']}\")\r\n    print(f\"   Total Retrievals: {stats['total_retrievals']}\")\r\n    print(f\"   Avg Retrieval Time: {stats['avg_retrieval_time_ms']:.2f} ms\")\r\n    print(f\"   Vector Store Size: {stats['vector_store_size']}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\nif __name__ == \"__main__\":\r\n    try:\r\n        # ØªØ³Øª 1: Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\r\n        test_unified_ai_system()\r\n        \r\n        input(\"\\nâ¸ï¸  Press ENTER to continue to RAG Knowledge Base Test...\")\r\n        \r\n        # ØªØ³Øª 2: Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\r\n        test_rag_knowledge_base()\r\n        \r\n        print(\"\\nâœ… All tests completed successfully!\")\r\n        print(\"ğŸ‰ Unified AI System with 4 methods is fully operational!\\n\")\r\n        \r\n    except KeyboardInterrupt:\r\n        print(\"\\n\\nâš ï¸ Test interrupted by user\")\r\n    except Exception as e:\r\n        print(f\"\\n\\nâŒ Test failed: {e}\")\r\n        import traceback\r\n        traceback.print_exc()\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T22:34:10.112Z",
    "fileName": "test_unified_ai.py",
    "content": "\"\"\"\r\nØªØ³Øª Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ AI Ø¨Ø§ 4 Ù…Ø¯Ù„\r\nRAG + Fine-Tuning + LoRA + Prompt Engineering + Security\r\nimport io\r\n\"\"\"\r\n\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\n\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\nimport json\r\n\r\ndef print_section(title: str):\r\n    \"\"\"Ú†Ø§Ù¾ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(f\"  {title}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef print_response(response: dict):\r\n    \"\"\"Ú†Ø§Ù¾ Ù¾Ø§Ø³Ø® Ø¨Ø§ ÙØ±Ù…Øª Ø²ÛŒØ¨Ø§\"\"\"\r\n    print(json.dumps(response, indent=2, ensure_ascii=False))\r\n\r\ndef test_unified_ai_system():\r\n    \"\"\"ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\"\"\"\r\n    \r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"CAD3D UNIFIED AI SYSTEM - 4 METHODS INTEGRATION TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    # ===========================\r\n    # 1. Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 1: System Initialization\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    print(\"âœ… Unified AI System initialized\")\r\n    print(f\"   Methods available: {len(unified.get_system_status()['unified_ai_system']['methods_available'])}\")\r\n    \r\n    # ===========================\r\n    # 2. Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 2: System Status\")\r\n    \r\n    status = unified.get_system_status()\r\n    print(\"ğŸ” System Status:\")\r\n    print(f\"   Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n    \r\n    if status.get('rag'):\r\n        print(f\"\\n   ğŸ“š RAG System:\")\r\n        print(f\"      - Documents: {status['rag']['documents_indexed']}\")\r\n        print(f\"      - Retrievals: {status['rag']['total_retrievals']}\")\r\n        print(f\"      - Model: {status['rag']['embedding_model']}\")\r\n    \r\n    if status.get('security'):\r\n        print(f\"\\n   ğŸ›¡ï¸ Security System:\")\r\n        print(f\"      - Status: {status['security']['status']}\")\r\n        print(f\"      - Agents Created: {status['security']['agents_created']}\")\r\n    \r\n    print(f\"\\n   ğŸ“Š Usage Statistics:\")\r\n    for key, value in status['usage_statistics'].items():\r\n        print(f\"      - {key}: {value}\")\r\n    \r\n    # ===========================\r\n    # 3. ØªØ³Øª RAG\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 3: Testing RAG (Retrieval-Augmented Generation)\")\r\n    \r\n    query_rag = \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚ 5 Ø¯Ø± 4 Ù…ØªØ± Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ\"\r\n    print(f\"Query: {query_rag}\")\r\n    print(\"\\nExecuting RAG query...\")\r\n    \r\n    response_rag = unified.query(\r\n        query=query_rag,\r\n        method=AIMethodType.RAG,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_rag['method']}\")\r\n    print(f\"   Status: {response_rag['status']}\")\r\n    print(f\"   Retrieved Documents: {response_rag.get('num_docs', 0)}\")\r\n    \r\n    if response_rag.get('retrieved_documents'):\r\n        print(\"\\n   ğŸ“„ Top Documents:\")\r\n        for i, doc in enumerate(response_rag['retrieved_documents'][:2], 1):\r\n            print(f\"\\n      {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n            print(f\"         {doc['content'][:100]}...\")\r\n    \r\n    # ===========================\r\n    # 4. ØªØ³Øª Fine-Tuning\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 4: Testing Fine-Tuning\")\r\n    \r\n    query_ft = \"ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø± Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\"\r\n    print(f\"Query: {query_ft}\")\r\n    print(\"\\nExecuting Fine-Tuning query...\")\r\n    \r\n    response_ft = unified.query(\r\n        query=query_ft,\r\n        method=AIMethodType.FINE_TUNING,\r\n        task_type=AITaskType.CAD_ANALYSIS,\r\n        model=\"cad_analysis_v1\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_ft['method']}\")\r\n    print(f\"   Status: {response_ft['status']}\")\r\n    print(f\"   Model: {response_ft.get('model_used', 'N/A')}\")\r\n    print(f\"   Details: {response_ft.get('method_details', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 5. ØªØ³Øª LoRA\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 5: Testing LoRA (Low-Rank Adaptation)\")\r\n    \r\n    query_lora = \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù† 5 Ø·Ø¨Ù‚Ù‡\"\r\n    print(f\"Query: {query_lora}\")\r\n    print(\"\\nExecuting LoRA query...\")\r\n    \r\n    response_lora = unified.query(\r\n        query=query_lora,\r\n        method=AIMethodType.LORA,\r\n        task_type=AITaskType.STRUCTURAL_CALCULATION,\r\n        adapter=\"structural_calc\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_lora['method']}\")\r\n    print(f\"   Status: {response_lora['status']}\")\r\n    print(f\"   Adapter: {response_lora.get('adapter_used', 'N/A')}\")\r\n    print(f\"   Rank: {response_lora.get('rank', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 6. ØªØ³Øª Prompt Engineering\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 6: Testing Prompt Engineering\")\r\n    \r\n    query_prompt = \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù†Ù‡ 200 Ù…ØªØ±ÛŒ\"\r\n    print(f\"Query: {query_prompt}\")\r\n    print(\"\\nExecuting Prompt Engineering query...\")\r\n    \r\n    response_prompt = unified.query(\r\n        query=query_prompt,\r\n        method=AIMethodType.PROMPT_ENGINEERING,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        template=\"architectural_analysis\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_prompt['method']}\")\r\n    print(f\"   Status: {response_prompt['status']}\")\r\n    print(f\"   Template: {response_prompt.get('template_used', 'N/A')}\")\r\n    if response_prompt.get('prompt'):\r\n        print(f\"   Prompt Length: {len(response_prompt['prompt'])} characters\")\r\n    \r\n    # ===========================\r\n    # 7. ØªØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯Ú©Ø§Ø±\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 7: Testing Auto Method Selection\")\r\n    \r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¬Ù… Ø§ØªØ§Ù‚ 6Ã—4Ã—2.8 Ù…ØªØ±\",\r\n        \"ØªØ­Ù„ÛŒÙ„ Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\",\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡ Ø¨Ø±Ø§ÛŒ ØªÛŒØ±\",\r\n        \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ú†ÛŒØ¯Ù…Ø§Ù† Ø§ØªØ§Ù‚\"\r\n    ]\r\n    \r\n    print(\"Testing auto-routing for different queries:\\n\")\r\n    \r\n    for query in test_queries:\r\n        response = unified.query(query)  # Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† method\r\n        print(f\"   Query: {query}\")\r\n        print(f\"   â†’ Selected Method: {response['method']}\")\r\n        print()\r\n    \r\n    # ===========================\r\n    # 8. ØªØ³Øª Hybrid (ØªØ±Ú©ÛŒØ¨ÛŒ)\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 8: Testing Hybrid Approach\")\r\n    \r\n    query_hybrid = \"Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø¯Ø± Ø§ÛŒØ±Ø§Ù†\"\r\n    print(f\"Query: {query_hybrid}\")\r\n    print(\"\\nExecuting HYBRID query (RAG + Prompt Engineering)...\")\r\n    \r\n    response_hybrid = unified.hybrid_query(\r\n        query=query_hybrid,\r\n        methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING],\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Hybrid Query Executed\")\r\n    print(f\"   Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\n    print(f\"   Responses: {len(response_hybrid['individual_responses'])}\")\r\n    \r\n    for method, resp in response_hybrid['individual_responses'].items():\r\n        print(f\"\\n   ğŸ“Œ {method}:\")\r\n        print(f\"      Status: {resp['status']}\")\r\n        if 'num_docs' in resp:\r\n            print(f\"      Retrieved Docs: {resp['num_docs']}\")\r\n    \r\n    # ===========================\r\n    # 9. Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø±ÙˆØ´â€ŒÙ‡Ø§\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 9: Comparing All 4 Methods\")\r\n    \r\n    comparison = unified.compare_methods()\r\n    \r\n    print(\"ğŸ“Š Method Comparison:\\n\")\r\n    \r\n    for method, details in comparison['comparison'].items():\r\n        print(f\"   ğŸ”¹ {method}:\")\r\n        print(f\"      Setup Time: {details['setup_time']}\")\r\n        print(f\"      Cost: {details['cost']}\")\r\n        print(f\"      Quality: {details['quality']}\")\r\n        print(f\"      GPU Required: {'Yes' if details['gpu_required'] else 'No'}\")\r\n        print(f\"      Best For: {', '.join(details['best_for'][:2])}...\")\r\n        print()\r\n    \r\n    print(\"   ğŸ’¡ Recommendations:\")\r\n    for key, value in comparison['recommendation'].items():\r\n        print(f\"      {key.replace('_', ' ').title()}: {value}\")\r\n    \r\n    # ===========================\r\n    # 10. Ø¢Ù…Ø§Ø± Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 10: Final Statistics\")\r\n    \r\n    final_status = unified.get_system_status()\r\n    stats = final_status['usage_statistics']\r\n    \r\n    print(\"ğŸ“ˆ Usage Statistics:\")\r\n    print(f\"   Total Queries: {stats['total_queries']}\")\r\n    print(f\"   RAG Calls: {stats['rag_calls']}\")\r\n    print(f\"   Fine-Tuning Calls: {stats['fine_tuning_calls']}\")\r\n    print(f\"   LoRA Calls: {stats['lora_calls']}\")\r\n    print(f\"   Prompt Engineering Calls: {stats['prompt_calls']}\")\r\n    print(f\"   Hybrid Calls: {stats['hybrid_calls']}\")\r\n    \r\n    # ===========================\r\n    # Ø®Ù„Ø§ØµÙ‡ Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“Š FINAL SUMMARY\")\r\n    print(\"=\"*80)\r\n    \r\n    print(f\"\\nâœ… All 4 AI Methods Tested Successfully!\")\r\n    print(f\"   1. RAG - Retrieval-Augmented Generation\")\r\n    print(f\"   2. Fine-Tuning - Specialized Training\")\r\n    print(f\"   3. LoRA - Low-Rank Adaptation\")\r\n    print(f\"   4. Prompt Engineering - Careful Prompting\")\r\n    \r\n    print(f\"\\nğŸ”— Integration Status:\")\r\n    print(f\"   âœ… Security System: {'Integrated' if final_status.get('security') else 'Not Available'}\")\r\n    print(f\"   âœ… Auto-Routing: Enabled\")\r\n    print(f\"   âœ… Hybrid Queries: Supported\")\r\n    print(f\"   âœ… Total Methods: 4\")\r\n    \r\n    print(\"\\nâœ… Unified AI System is fully operational!\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef test_rag_knowledge_base():\r\n    \"\"\"ØªØ³Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“š RAG KNOWLEDGE BASE TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    if not unified.rag_system:\r\n        print(\"âŒ RAG System not available\")\r\n        return\r\n    \r\n    print(\"ğŸ“– Testing RAG Knowledge Base:\\n\")\r\n    \r\n    # Ù¾Ø±Ø³Ø´â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡\r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚\",\r\n        \"Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯\",\r\n        \"Ù†Ø³Ø¨Øª Ù¾Ù†Ø¬Ø±Ù‡ Ø¨Ù‡ Ú©Ù\",\r\n        \"Ø´ÛŒØ¨ Ù„ÙˆÙ„Ù‡ ÙØ§Ø¶Ù„Ø§Ø¨\",\r\n        \"room area calculation\"\r\n    ]\r\n    \r\n    for i, query in enumerate(test_queries, 1):\r\n        print(f\"{i}. Query: {query}\")\r\n        \r\n        results = unified.rag_system.retrieve(query, top_k=2)\r\n        \r\n        if results:\r\n            print(f\"   Retrieved: {len(results)} documents\")\r\n            for doc, score in results[:1]:\r\n                print(f\"   â†’ {doc.doc_id} (Score: {score:.2f})\")\r\n                print(f\"      {doc.content[:80]}...\")\r\n        else:\r\n            print(\"   No results\")\r\n        print()\r\n    \r\n    # Ø¢Ù…Ø§Ø±\r\n    stats = unified.rag_system.get_statistics()\r\n    print(f\"ğŸ“Š RAG Statistics:\")\r\n    print(f\"   Documents Indexed: {stats['documents_indexed']}\")\r\n    print(f\"   Total Retrievals: {stats['total_retrievals']}\")\r\n    print(f\"   Avg Retrieval Time: {stats['avg_retrieval_time_ms']:.2f} ms\")\r\n    print(f\"   Vector Store Size: {stats['vector_store_size']}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\nif __name__ == \"__main__\":\r\n    try:\r\n        # ØªØ³Øª 1: Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\r\n        test_unified_ai_system()\r\n        \r\n        input(\"\\nâ¸ï¸  Press ENTER to continue to RAG Knowledge Base Test...\")\r\n        \r\n        # ØªØ³Øª 2: Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\r\n        test_rag_knowledge_base()\r\n        \r\n        print(\"\\nâœ… All tests completed successfully!\")\r\n        print(\"ğŸ‰ Unified AI System with 4 methods is fully operational!\\n\")\r\n        \r\n    except KeyboardInterrupt:\r\n        print(\"\\n\\nâš ï¸ Test interrupted by user\")\r\n    except Exception as e:\r\n        print(f\"\\n\\nâŒ Test failed: {e}\")\r\n        import traceback\r\n        traceback.print_exc()\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T22:34:30.092Z",
    "fileName": "test_unified_ai.py",
    "content": "\"\"\"\r\nØªØ³Øª Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ AI Ø¨Ø§ 4 Ù…Ø¯Ù„\r\nRAG + Fine-Tuning + LoRA + Prompt Engineering + Security\r\nimport io\r\n\"\"\"\r\n\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\nimport json\r\n\r\ndef print_section(title: str):\r\n    \"\"\"Ú†Ø§Ù¾ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(f\"  {title}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef print_response(response: dict):\r\n    \"\"\"Ú†Ø§Ù¾ Ù¾Ø§Ø³Ø® Ø¨Ø§ ÙØ±Ù…Øª Ø²ÛŒØ¨Ø§\"\"\"\r\n    print(json.dumps(response, indent=2, ensure_ascii=False))\r\n\r\ndef test_unified_ai_system():\r\n    \"\"\"ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\"\"\"\r\n    \r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"CAD3D UNIFIED AI SYSTEM - 4 METHODS INTEGRATION TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    # ===========================\r\n    # 1. Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 1: System Initialization\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    print(\"âœ… Unified AI System initialized\")\r\n    print(f\"   Methods available: {len(unified.get_system_status()['unified_ai_system']['methods_available'])}\")\r\n    \r\n    # ===========================\r\n    # 2. Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 2: System Status\")\r\n    \r\n    status = unified.get_system_status()\r\n    print(\"ğŸ” System Status:\")\r\n    print(f\"   Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n    \r\n    if status.get('rag'):\r\n        print(f\"\\n   ğŸ“š RAG System:\")\r\n        print(f\"      - Documents: {status['rag']['documents_indexed']}\")\r\n        print(f\"      - Retrievals: {status['rag']['total_retrievals']}\")\r\n        print(f\"      - Model: {status['rag']['embedding_model']}\")\r\n    \r\n    if status.get('security'):\r\n        print(f\"\\n   ğŸ›¡ï¸ Security System:\")\r\n        print(f\"      - Status: {status['security']['status']}\")\r\n        print(f\"      - Agents Created: {status['security']['agents_created']}\")\r\n    \r\n    print(f\"\\n   ğŸ“Š Usage Statistics:\")\r\n    for key, value in status['usage_statistics'].items():\r\n        print(f\"      - {key}: {value}\")\r\n    \r\n    # ===========================\r\n    # 3. ØªØ³Øª RAG\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 3: Testing RAG (Retrieval-Augmented Generation)\")\r\n    \r\n    query_rag = \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚ 5 Ø¯Ø± 4 Ù…ØªØ± Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ\"\r\n    print(f\"Query: {query_rag}\")\r\n    print(\"\\nExecuting RAG query...\")\r\n    \r\n    response_rag = unified.query(\r\n        query=query_rag,\r\n        method=AIMethodType.RAG,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_rag['method']}\")\r\n    print(f\"   Status: {response_rag['status']}\")\r\n    print(f\"   Retrieved Documents: {response_rag.get('num_docs', 0)}\")\r\n    \r\n    if response_rag.get('retrieved_documents'):\r\n        print(\"\\n   ğŸ“„ Top Documents:\")\r\n        for i, doc in enumerate(response_rag['retrieved_documents'][:2], 1):\r\n            print(f\"\\n      {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n            print(f\"         {doc['content'][:100]}...\")\r\n    \r\n    # ===========================\r\n    # 4. ØªØ³Øª Fine-Tuning\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 4: Testing Fine-Tuning\")\r\n    \r\n    query_ft = \"ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø± Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\"\r\n    print(f\"Query: {query_ft}\")\r\n    print(\"\\nExecuting Fine-Tuning query...\")\r\n    \r\n    response_ft = unified.query(\r\n        query=query_ft,\r\n        method=AIMethodType.FINE_TUNING,\r\n        task_type=AITaskType.CAD_ANALYSIS,\r\n        model=\"cad_analysis_v1\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_ft['method']}\")\r\n    print(f\"   Status: {response_ft['status']}\")\r\n    print(f\"   Model: {response_ft.get('model_used', 'N/A')}\")\r\n    print(f\"   Details: {response_ft.get('method_details', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 5. ØªØ³Øª LoRA\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 5: Testing LoRA (Low-Rank Adaptation)\")\r\n    \r\n    query_lora = \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù† 5 Ø·Ø¨Ù‚Ù‡\"\r\n    print(f\"Query: {query_lora}\")\r\n    print(\"\\nExecuting LoRA query...\")\r\n    \r\n    response_lora = unified.query(\r\n        query=query_lora,\r\n        method=AIMethodType.LORA,\r\n        task_type=AITaskType.STRUCTURAL_CALCULATION,\r\n        adapter=\"structural_calc\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_lora['method']}\")\r\n    print(f\"   Status: {response_lora['status']}\")\r\n    print(f\"   Adapter: {response_lora.get('adapter_used', 'N/A')}\")\r\n    print(f\"   Rank: {response_lora.get('rank', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 6. ØªØ³Øª Prompt Engineering\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 6: Testing Prompt Engineering\")\r\n    \r\n    query_prompt = \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù†Ù‡ 200 Ù…ØªØ±ÛŒ\"\r\n    print(f\"Query: {query_prompt}\")\r\n    print(\"\\nExecuting Prompt Engineering query...\")\r\n    \r\n    response_prompt = unified.query(\r\n        query=query_prompt,\r\n        method=AIMethodType.PROMPT_ENGINEERING,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        template=\"architectural_analysis\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_prompt['method']}\")\r\n    print(f\"   Status: {response_prompt['status']}\")\r\n    print(f\"   Template: {response_prompt.get('template_used', 'N/A')}\")\r\n    if response_prompt.get('prompt'):\r\n        print(f\"   Prompt Length: {len(response_prompt['prompt'])} characters\")\r\n    \r\n    # ===========================\r\n    # 7. ØªØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯Ú©Ø§Ø±\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 7: Testing Auto Method Selection\")\r\n    \r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¬Ù… Ø§ØªØ§Ù‚ 6Ã—4Ã—2.8 Ù…ØªØ±\",\r\n        \"ØªØ­Ù„ÛŒÙ„ Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\",\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡ Ø¨Ø±Ø§ÛŒ ØªÛŒØ±\",\r\n        \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ú†ÛŒØ¯Ù…Ø§Ù† Ø§ØªØ§Ù‚\"\r\n    ]\r\n    \r\n    print(\"Testing auto-routing for different queries:\\n\")\r\n    \r\n    for query in test_queries:\r\n        response = unified.query(query)  # Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† method\r\n        print(f\"   Query: {query}\")\r\n        print(f\"   â†’ Selected Method: {response['method']}\")\r\n        print()\r\n    \r\n    # ===========================\r\n    # 8. ØªØ³Øª Hybrid (ØªØ±Ú©ÛŒØ¨ÛŒ)\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 8: Testing Hybrid Approach\")\r\n    \r\n    query_hybrid = \"Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø¯Ø± Ø§ÛŒØ±Ø§Ù†\"\r\n    print(f\"Query: {query_hybrid}\")\r\n    print(\"\\nExecuting HYBRID query (RAG + Prompt Engineering)...\")\r\n    \r\n    response_hybrid = unified.hybrid_query(\r\n        query=query_hybrid,\r\n        methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING],\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Hybrid Query Executed\")\r\n    print(f\"   Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\n    print(f\"   Responses: {len(response_hybrid['individual_responses'])}\")\r\n    \r\n    for method, resp in response_hybrid['individual_responses'].items():\r\n        print(f\"\\n   ğŸ“Œ {method}:\")\r\n        print(f\"      Status: {resp['status']}\")\r\n        if 'num_docs' in resp:\r\n            print(f\"      Retrieved Docs: {resp['num_docs']}\")\r\n    \r\n    # ===========================\r\n    # 9. Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø±ÙˆØ´â€ŒÙ‡Ø§\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 9: Comparing All 4 Methods\")\r\n    \r\n    comparison = unified.compare_methods()\r\n    \r\n    print(\"ğŸ“Š Method Comparison:\\n\")\r\n    \r\n    for method, details in comparison['comparison'].items():\r\n        print(f\"   ğŸ”¹ {method}:\")\r\n        print(f\"      Setup Time: {details['setup_time']}\")\r\n        print(f\"      Cost: {details['cost']}\")\r\n        print(f\"      Quality: {details['quality']}\")\r\n        print(f\"      GPU Required: {'Yes' if details['gpu_required'] else 'No'}\")\r\n        print(f\"      Best For: {', '.join(details['best_for'][:2])}...\")\r\n        print()\r\n    \r\n    print(\"   ğŸ’¡ Recommendations:\")\r\n    for key, value in comparison['recommendation'].items():\r\n        print(f\"      {key.replace('_', ' ').title()}: {value}\")\r\n    \r\n    # ===========================\r\n    # 10. Ø¢Ù…Ø§Ø± Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 10: Final Statistics\")\r\n    \r\n    final_status = unified.get_system_status()\r\n    stats = final_status['usage_statistics']\r\n    \r\n    print(\"ğŸ“ˆ Usage Statistics:\")\r\n    print(f\"   Total Queries: {stats['total_queries']}\")\r\n    print(f\"   RAG Calls: {stats['rag_calls']}\")\r\n    print(f\"   Fine-Tuning Calls: {stats['fine_tuning_calls']}\")\r\n    print(f\"   LoRA Calls: {stats['lora_calls']}\")\r\n    print(f\"   Prompt Engineering Calls: {stats['prompt_calls']}\")\r\n    print(f\"   Hybrid Calls: {stats['hybrid_calls']}\")\r\n    \r\n    # ===========================\r\n    # Ø®Ù„Ø§ØµÙ‡ Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“Š FINAL SUMMARY\")\r\n    print(\"=\"*80)\r\n    \r\n    print(f\"\\nâœ… All 4 AI Methods Tested Successfully!\")\r\n    print(f\"   1. RAG - Retrieval-Augmented Generation\")\r\n    print(f\"   2. Fine-Tuning - Specialized Training\")\r\n    print(f\"   3. LoRA - Low-Rank Adaptation\")\r\n    print(f\"   4. Prompt Engineering - Careful Prompting\")\r\n    \r\n    print(f\"\\nğŸ”— Integration Status:\")\r\n    print(f\"   âœ… Security System: {'Integrated' if final_status.get('security') else 'Not Available'}\")\r\n    print(f\"   âœ… Auto-Routing: Enabled\")\r\n    print(f\"   âœ… Hybrid Queries: Supported\")\r\n    print(f\"   âœ… Total Methods: 4\")\r\n    \r\n    print(\"\\nâœ… Unified AI System is fully operational!\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef test_rag_knowledge_base():\r\n    \"\"\"ØªØ³Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“š RAG KNOWLEDGE BASE TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    if not unified.rag_system:\r\n        print(\"âŒ RAG System not available\")\r\n        return\r\n    \r\n    print(\"ğŸ“– Testing RAG Knowledge Base:\\n\")\r\n    \r\n    # Ù¾Ø±Ø³Ø´â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡\r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚\",\r\n        \"Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯\",\r\n        \"Ù†Ø³Ø¨Øª Ù¾Ù†Ø¬Ø±Ù‡ Ø¨Ù‡ Ú©Ù\",\r\n        \"Ø´ÛŒØ¨ Ù„ÙˆÙ„Ù‡ ÙØ§Ø¶Ù„Ø§Ø¨\",\r\n        \"room area calculation\"\r\n    ]\r\n    \r\n    for i, query in enumerate(test_queries, 1):\r\n        print(f\"{i}. Query: {query}\")\r\n        \r\n        results = unified.rag_system.retrieve(query, top_k=2)\r\n        \r\n        if results:\r\n            print(f\"   Retrieved: {len(results)} documents\")\r\n            for doc, score in results[:1]:\r\n                print(f\"   â†’ {doc.doc_id} (Score: {score:.2f})\")\r\n                print(f\"      {doc.content[:80]}...\")\r\n        else:\r\n            print(\"   No results\")\r\n        print()\r\n    \r\n    # Ø¢Ù…Ø§Ø±\r\n    stats = unified.rag_system.get_statistics()\r\n    print(f\"ğŸ“Š RAG Statistics:\")\r\n    print(f\"   Documents Indexed: {stats['documents_indexed']}\")\r\n    print(f\"   Total Retrievals: {stats['total_retrievals']}\")\r\n    print(f\"   Avg Retrieval Time: {stats['avg_retrieval_time_ms']:.2f} ms\")\r\n    print(f\"   Vector Store Size: {stats['vector_store_size']}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\nif __name__ == \"__main__\":\r\n    try:\r\n        # ØªØ³Øª 1: Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\r\n        test_unified_ai_system()\r\n        \r\n        input(\"\\nâ¸ï¸  Press ENTER to continue to RAG Knowledge Base Test...\")\r\n        \r\n        # ØªØ³Øª 2: Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\r\n        test_rag_knowledge_base()\r\n        \r\n        print(\"\\nâœ… All tests completed successfully!\")\r\n        print(\"ğŸ‰ Unified AI System with 4 methods is fully operational!\\n\")\r\n        \r\n    except KeyboardInterrupt:\r\n        print(\"\\n\\nâš ï¸ Test interrupted by user\")\r\n    except Exception as e:\r\n        print(f\"\\n\\nâŒ Test failed: {e}\")\r\n        import traceback\r\n        traceback.print_exc()\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T22:34:33.456Z",
    "fileName": "test_unified_ai.py",
    "content": "\"\"\"\r\nØªØ³Øª Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ AI Ø¨Ø§ 4 Ù…Ø¯Ù„\r\nRAG + Fine-Tuning + LoRA + Prompt Engineering + Security\r\nimport io\r\n\"\"\"\r\n\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\nimport json\r\n\r\ndef print_section(title: str):\r\n    \"\"\"Ú†Ø§Ù¾ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(f\"  {title}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef print_response(response: dict):\r\n    \"\"\"Ú†Ø§Ù¾ Ù¾Ø§Ø³Ø® Ø¨Ø§ ÙØ±Ù…Øª Ø²ÛŒØ¨Ø§\"\"\"\r\n    print(json.dumps(response, indent=2, ensure_ascii=False))\r\n\r\ndef test_unified_ai_system():\r\n    \"\"\"ØªØ³Øª Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\"\"\"\r\n    \r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"CAD3D UNIFIED AI SYSTEM - 4 METHODS INTEGRATION TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    # ===========================\r\n    # 1. Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø³ÛŒØ³ØªÙ…\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 1: System Initialization\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    print(\"âœ… Unified AI System initialized\")\r\n    print(f\"   Methods available: {len(unified.get_system_status()['unified_ai_system']['methods_available'])}\")\r\n    \r\n    # ===========================\r\n    # 2. Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 2: System Status\")\r\n    \r\n    status = unified.get_system_status()\r\n    print(\"ğŸ” System Status:\")\r\n    print(f\"   Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n    \r\n    if status.get('rag'):\r\n        print(f\"\\n   ğŸ“š RAG System:\")\r\n        print(f\"      - Documents: {status['rag']['documents_indexed']}\")\r\n        print(f\"      - Retrievals: {status['rag']['total_retrievals']}\")\r\n        print(f\"      - Model: {status['rag']['embedding_model']}\")\r\n    \r\n    if status.get('security'):\r\n        print(f\"\\n   ğŸ›¡ï¸ Security System:\")\r\n        print(f\"      - Status: {status['security']['status']}\")\r\n        print(f\"      - Agents Created: {status['security']['agents_created']}\")\r\n    \r\n    print(f\"\\n   ğŸ“Š Usage Statistics:\")\r\n    for key, value in status['usage_statistics'].items():\r\n        print(f\"      - {key}: {value}\")\r\n    \r\n    # ===========================\r\n    # 3. ØªØ³Øª RAG\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 3: Testing RAG (Retrieval-Augmented Generation)\")\r\n    \r\n    query_rag = \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚ 5 Ø¯Ø± 4 Ù…ØªØ± Ú†Ù‚Ø¯Ø± Ø§Ø³ØªØŸ\"\r\n    print(f\"Query: {query_rag}\")\r\n    print(\"\\nExecuting RAG query...\")\r\n    \r\n    response_rag = unified.query(\r\n        query=query_rag,\r\n        method=AIMethodType.RAG,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_rag['method']}\")\r\n    print(f\"   Status: {response_rag['status']}\")\r\n    print(f\"   Retrieved Documents: {response_rag.get('num_docs', 0)}\")\r\n    \r\n    if response_rag.get('retrieved_documents'):\r\n        print(\"\\n   ğŸ“„ Top Documents:\")\r\n        for i, doc in enumerate(response_rag['retrieved_documents'][:2], 1):\r\n            print(f\"\\n      {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n            print(f\"         {doc['content'][:100]}...\")\r\n    \r\n    # ===========================\r\n    # 4. ØªØ³Øª Fine-Tuning\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 4: Testing Fine-Tuning\")\r\n    \r\n    query_ft = \"ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø± Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\"\r\n    print(f\"Query: {query_ft}\")\r\n    print(\"\\nExecuting Fine-Tuning query...\")\r\n    \r\n    response_ft = unified.query(\r\n        query=query_ft,\r\n        method=AIMethodType.FINE_TUNING,\r\n        task_type=AITaskType.CAD_ANALYSIS,\r\n        model=\"cad_analysis_v1\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_ft['method']}\")\r\n    print(f\"   Status: {response_ft['status']}\")\r\n    print(f\"   Model: {response_ft.get('model_used', 'N/A')}\")\r\n    print(f\"   Details: {response_ft.get('method_details', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 5. ØªØ³Øª LoRA\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 5: Testing LoRA (Low-Rank Adaptation)\")\r\n    \r\n    query_lora = \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ…Ø§Ù† 5 Ø·Ø¨Ù‚Ù‡\"\r\n    print(f\"Query: {query_lora}\")\r\n    print(\"\\nExecuting LoRA query...\")\r\n    \r\n    response_lora = unified.query(\r\n        query=query_lora,\r\n        method=AIMethodType.LORA,\r\n        task_type=AITaskType.STRUCTURAL_CALCULATION,\r\n        adapter=\"structural_calc\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_lora['method']}\")\r\n    print(f\"   Status: {response_lora['status']}\")\r\n    print(f\"   Adapter: {response_lora.get('adapter_used', 'N/A')}\")\r\n    print(f\"   Rank: {response_lora.get('rank', 'N/A')}\")\r\n    \r\n    # ===========================\r\n    # 6. ØªØ³Øª Prompt Engineering\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 6: Testing Prompt Engineering\")\r\n    \r\n    query_prompt = \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø±Ø§ÛŒ Ø®Ø§Ù†Ù‡ 200 Ù…ØªØ±ÛŒ\"\r\n    print(f\"Query: {query_prompt}\")\r\n    print(\"\\nExecuting Prompt Engineering query...\")\r\n    \r\n    response_prompt = unified.query(\r\n        query=query_prompt,\r\n        method=AIMethodType.PROMPT_ENGINEERING,\r\n        task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n        template=\"architectural_analysis\"\r\n    )\r\n    \r\n    print(f\"\\nâœ… Method: {response_prompt['method']}\")\r\n    print(f\"   Status: {response_prompt['status']}\")\r\n    print(f\"   Template: {response_prompt.get('template_used', 'N/A')}\")\r\n    if response_prompt.get('prompt'):\r\n        print(f\"   Prompt Length: {len(response_prompt['prompt'])} characters\")\r\n    \r\n    # ===========================\r\n    # 7. ØªØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø®ÙˆØ¯Ú©Ø§Ø±\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 7: Testing Auto Method Selection\")\r\n    \r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø­Ø¬Ù… Ø§ØªØ§Ù‚ 6Ã—4Ã—2.8 Ù…ØªØ±\",\r\n        \"ØªØ­Ù„ÛŒÙ„ Ùˆ Ø·Ø±Ø§Ø­ÛŒ Ù†Ù‚Ø´Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ\",\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ø§Øª Ø³Ø§Ø²Ù‡ Ø¨Ø±Ø§ÛŒ ØªÛŒØ±\",\r\n        \"Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ú†ÛŒØ¯Ù…Ø§Ù† Ø§ØªØ§Ù‚\"\r\n    ]\r\n    \r\n    print(\"Testing auto-routing for different queries:\\n\")\r\n    \r\n    for query in test_queries:\r\n        response = unified.query(query)  # Ø¨Ø¯ÙˆÙ† Ù…Ø´Ø®Øµ Ú©Ø±Ø¯Ù† method\r\n        print(f\"   Query: {query}\")\r\n        print(f\"   â†’ Selected Method: {response['method']}\")\r\n        print()\r\n    \r\n    # ===========================\r\n    # 8. ØªØ³Øª Hybrid (ØªØ±Ú©ÛŒØ¨ÛŒ)\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 8: Testing Hybrid Approach\")\r\n    \r\n    query_hybrid = \"Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ù‡Ø§ÛŒ Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø¯Ø± Ø§ÛŒØ±Ø§Ù†\"\r\n    print(f\"Query: {query_hybrid}\")\r\n    print(\"\\nExecuting HYBRID query (RAG + Prompt Engineering)...\")\r\n    \r\n    response_hybrid = unified.hybrid_query(\r\n        query=query_hybrid,\r\n        methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING],\r\n        top_k=2\r\n    )\r\n    \r\n    print(f\"\\nâœ… Hybrid Query Executed\")\r\n    print(f\"   Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\n    print(f\"   Responses: {len(response_hybrid['individual_responses'])}\")\r\n    \r\n    for method, resp in response_hybrid['individual_responses'].items():\r\n        print(f\"\\n   ğŸ“Œ {method}:\")\r\n        print(f\"      Status: {resp['status']}\")\r\n        if 'num_docs' in resp:\r\n            print(f\"      Retrieved Docs: {resp['num_docs']}\")\r\n    \r\n    # ===========================\r\n    # 9. Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø±ÙˆØ´â€ŒÙ‡Ø§\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 9: Comparing All 4 Methods\")\r\n    \r\n    comparison = unified.compare_methods()\r\n    \r\n    print(\"ğŸ“Š Method Comparison:\\n\")\r\n    \r\n    for method, details in comparison['comparison'].items():\r\n        print(f\"   ğŸ”¹ {method}:\")\r\n        print(f\"      Setup Time: {details['setup_time']}\")\r\n        print(f\"      Cost: {details['cost']}\")\r\n        print(f\"      Quality: {details['quality']}\")\r\n        print(f\"      GPU Required: {'Yes' if details['gpu_required'] else 'No'}\")\r\n        print(f\"      Best For: {', '.join(details['best_for'][:2])}...\")\r\n        print()\r\n    \r\n    print(\"   ğŸ’¡ Recommendations:\")\r\n    for key, value in comparison['recommendation'].items():\r\n        print(f\"      {key.replace('_', ' ').title()}: {value}\")\r\n    \r\n    # ===========================\r\n    # 10. Ø¢Ù…Ø§Ø± Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print_section(\"ğŸ“‹ STEP 10: Final Statistics\")\r\n    \r\n    final_status = unified.get_system_status()\r\n    stats = final_status['usage_statistics']\r\n    \r\n    print(\"ğŸ“ˆ Usage Statistics:\")\r\n    print(f\"   Total Queries: {stats['total_queries']}\")\r\n    print(f\"   RAG Calls: {stats['rag_calls']}\")\r\n    print(f\"   Fine-Tuning Calls: {stats['fine_tuning_calls']}\")\r\n    print(f\"   LoRA Calls: {stats['lora_calls']}\")\r\n    print(f\"   Prompt Engineering Calls: {stats['prompt_calls']}\")\r\n    print(f\"   Hybrid Calls: {stats['hybrid_calls']}\")\r\n    \r\n    # ===========================\r\n    # Ø®Ù„Ø§ØµÙ‡ Ù†Ù‡Ø§ÛŒÛŒ\r\n    # ===========================\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“Š FINAL SUMMARY\")\r\n    print(\"=\"*80)\r\n    \r\n    print(f\"\\nâœ… All 4 AI Methods Tested Successfully!\")\r\n    print(f\"   1. RAG - Retrieval-Augmented Generation\")\r\n    print(f\"   2. Fine-Tuning - Specialized Training\")\r\n    print(f\"   3. LoRA - Low-Rank Adaptation\")\r\n    print(f\"   4. Prompt Engineering - Careful Prompting\")\r\n    \r\n    print(f\"\\nğŸ”— Integration Status:\")\r\n    print(f\"   âœ… Security System: {'Integrated' if final_status.get('security') else 'Not Available'}\")\r\n    print(f\"   âœ… Auto-Routing: Enabled\")\r\n    print(f\"   âœ… Hybrid Queries: Supported\")\r\n    print(f\"   âœ… Total Methods: 4\")\r\n    \r\n    print(\"\\nâœ… Unified AI System is fully operational!\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\ndef test_rag_knowledge_base():\r\n    \"\"\"ØªØ³Øª Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\"\"\"\r\n    print(\"\\n\" + \"=\"*80)\r\n    print(\"ğŸ“š RAG KNOWLEDGE BASE TEST\")\r\n    print(\"=\"*80 + \"\\n\")\r\n    \r\n    unified = UnifiedAISystem()\r\n    \r\n    if not unified.rag_system:\r\n        print(\"âŒ RAG System not available\")\r\n        return\r\n    \r\n    print(\"ğŸ“– Testing RAG Knowledge Base:\\n\")\r\n    \r\n    # Ù¾Ø±Ø³Ø´â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡\r\n    test_queries = [\r\n        \"Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø³Ø§Ø­Øª Ø§ØªØ§Ù‚\",\r\n        \"Ø§Ø±ØªÙØ§Ø¹ Ø³Ù‚Ù Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯\",\r\n        \"Ù†Ø³Ø¨Øª Ù¾Ù†Ø¬Ø±Ù‡ Ø¨Ù‡ Ú©Ù\",\r\n        \"Ø´ÛŒØ¨ Ù„ÙˆÙ„Ù‡ ÙØ§Ø¶Ù„Ø§Ø¨\",\r\n        \"room area calculation\"\r\n    ]\r\n    \r\n    for i, query in enumerate(test_queries, 1):\r\n        print(f\"{i}. Query: {query}\")\r\n        \r\n        results = unified.rag_system.retrieve(query, top_k=2)\r\n        \r\n        if results:\r\n            print(f\"   Retrieved: {len(results)} documents\")\r\n            for doc, score in results[:1]:\r\n                print(f\"   â†’ {doc.doc_id} (Score: {score:.2f})\")\r\n                print(f\"      {doc.content[:80]}...\")\r\n        else:\r\n            print(\"   No results\")\r\n        print()\r\n    \r\n    # Ø¢Ù…Ø§Ø±\r\n    stats = unified.rag_system.get_statistics()\r\n    print(f\"ğŸ“Š RAG Statistics:\")\r\n    print(f\"   Documents Indexed: {stats['documents_indexed']}\")\r\n    print(f\"   Total Retrievals: {stats['total_retrievals']}\")\r\n    print(f\"   Avg Retrieval Time: {stats['avg_retrieval_time_ms']:.2f} ms\")\r\n    print(f\"   Vector Store Size: {stats['vector_store_size']}\")\r\n    print(\"=\"*80 + \"\\n\")\r\n\r\nif __name__ == \"__main__\":\r\n    try:\r\n        # ØªØ³Øª 1: Ø³ÛŒØ³ØªÙ… ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡\r\n        test_unified_ai_system()\r\n        \r\n        input(\"\\nâ¸ï¸  Press ENTER to continue to RAG Knowledge Base Test...\")\r\n        \r\n        # ØªØ³Øª 2: Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ RAG\r\n        test_rag_knowledge_base()\r\n        \r\n        print(\"\\nâœ… All tests completed successfully!\")\r\n        print(\"ğŸ‰ Unified AI System with 4 methods is fully operational!\\n\")\r\n        \r\n    except KeyboardInterrupt:\r\n        print(\"\\n\\nâš ï¸ Test interrupted by user\")\r\n    except Exception as e:\r\n        print(f\"\\n\\nâŒ Test failed: {e}\")\r\n        import traceback\r\n        traceback.print_exc()\r\n",
    "format": "py"
  }
]