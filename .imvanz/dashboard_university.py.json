[
  {
    "timestamp": "2025-11-21T23:26:34.820Z",
    "fileName": "dashboard_university.py",
    "content": "\"\"\"\r\nUniversity Knowledge Dashboard\r\nÿ™ÿßÿ®ŸÑŸà€å ŸÜÿ∏ÿßÿ±ÿ™€å ÿ≥€åÿ≥ÿ™ŸÖ €åÿßÿØ⁄Ø€åÿ±€å ÿØÿßŸÜÿ¥⁄ØÿßŸá€å\r\n\r\nŸÜŸÖÿß€åÿ¥ real-time ÿßÿ∑ŸÑÿßÿπÿßÿ™ÿå ÿ¢ŸÖÿßÿ± Ÿà Ÿàÿ∂ÿπ€åÿ™ ÿ≥€åÿ≥ÿ™ŸÖ\r\n\"\"\"\r\n\r\nimport streamlit as st\r\nimport pandas as pd\r\nimport plotly.express as px\r\nimport plotly.graph_objects as go\r\nfrom datetime import datetime\r\nimport json\r\n\r\n# Must be first Streamlit command\r\nst.set_page_config(\r\n    page_title=\"University Knowledge Dashboard\",\r\n    page_icon=\"üéì\",\r\n    layout=\"wide\"\r\n)\r\n\r\nfrom cad3d.super_ai.knowledge_database import UniversityKnowledgeDB\r\nfrom cad3d.super_ai.university_config import UNIVERSITIES\r\nfrom cad3d.super_ai.agent_security import AgentSecuritySystem\r\n\r\n# Initialize\r\n@st.cache_resource\r\ndef init_systems():\r\n    db = UniversityKnowledgeDB()\r\n    security = AgentSecuritySystem()\r\n    return db, security\r\n\r\ndb, security = init_systems()\r\n\r\n# Title\r\nst.title(\"üéì University Knowledge System Dashboard\")\r\nst.markdown(\"### ÿ≥ÿßŸÖÿßŸÜŸá ŸÜÿ∏ÿßÿ±ÿ™ Ÿà ⁄©ŸÜÿ™ÿ±ŸÑ €åÿßÿØ⁄Ø€åÿ±€å ÿßÿ≤ ÿØÿßŸÜÿ¥⁄ØÿßŸá‚ÄåŸáÿß€å ÿ®ÿ±ÿ™ÿ± ÿØŸÜ€åÿß\")\r\n\r\n# Sidebar\r\nst.sidebar.header(\"üìä Navigation\")\r\npage = st.sidebar.radio(\r\n    \"Select Page:\",\r\n    [\"Overview\", \"Universities\", \"Security\", \"Specializations\", \"Database\"]\r\n)\r\n\r\n# ====================\r\n# PAGE: OVERVIEW\r\n# ====================\r\nif page == \"Overview\":\r\n    st.header(\"üìà System Overview\")\r\n    \r\n    # Key Metrics\r\n    col1, col2, col3, col4 = st.columns(4)\r\n    \r\n    summary = db.get_all_universities_summary()\r\n    total_docs = sum(u['doc_count'] or 0 for u in summary)\r\n    total_unis = len(summary)\r\n    total_content = sum(u['total_content'] or 0 for u in summary)\r\n    \r\n    with col1:\r\n        st.metric(\"Total Universities\", total_unis)\r\n    with col2:\r\n        st.metric(\"Total Documents\", f\"{total_docs:,}\")\r\n    with col3:\r\n        st.metric(\"Total Content\", f\"{total_content/1e6:.1f}M chars\")\r\n    with col4:\r\n        security_summary = db.get_security_summary()\r\n        st.metric(\"Security Events\", security_summary['total_events'])\r\n    \r\n    st.markdown(\"---\")\r\n    \r\n    # Universities Table\r\n    st.subheader(\"üéì Universities Status\")\r\n    \r\n    if summary:\r\n        df = pd.DataFrame(summary)\r\n        df['focus_areas'] = df['focus_areas'].apply(lambda x: ', '.join(json.loads(x)[:3]) if x else '')\r\n        \r\n        display_df = df[['name', 'country', 'rank', 'doc_count', 'compliance_score', 'focus_areas']]\r\n        display_df.columns = ['University', 'Country', 'Rank', 'Documents', 'Compliance %', 'Focus Areas']\r\n        \r\n        st.dataframe(display_df, use_container_width=True)\r\n    else:\r\n        st.info(\"No data yet. Run agents to collect data.\")\r\n    \r\n    # Charts\r\n    col1, col2 = st.columns(2)\r\n    \r\n    with col1:\r\n        st.subheader(\"üìä Documents by University\")\r\n        if summary and total_docs > 0:\r\n            chart_data = pd.DataFrame({\r\n                'University': [u['name'][:20] for u in summary],\r\n                'Documents': [u['doc_count'] or 0 for u in summary]\r\n            })\r\n            fig = px.bar(chart_data, x='University', y='Documents', color='Documents')\r\n            st.plotly_chart(fig, use_container_width=True)\r\n    \r\n    with col2:\r\n        st.subheader(\"üåç Universities by Country\")\r\n        if summary:\r\n            country_counts = {}\r\n            for u in summary:\r\n                country = u['country']\r\n                country_counts[country] = country_counts.get(country, 0) + 1\r\n            \r\n            fig = px.pie(\r\n                names=list(country_counts.keys()),\r\n                values=list(country_counts.values()),\r\n                title=\"Distribution\"\r\n            )\r\n            st.plotly_chart(fig, use_container_width=True)\r\n\r\n# ====================\r\n# PAGE: UNIVERSITIES\r\n# ====================\r\nelif page == \"Universities\":\r\n    st.header(\"üéì Universities Details\")\r\n    \r\n    # Select university\r\n    uni_names = {info['name']: key for key, info in UNIVERSITIES.items()}\r\n    selected_name = st.selectbox(\"Select University:\", list(uni_names.keys()))\r\n    selected_key = uni_names[selected_name]\r\n    \r\n    uni_info = UNIVERSITIES[selected_key]\r\n    stats = db.get_university_stats(selected_key)\r\n    \r\n    # Info cards\r\n    col1, col2, col3 = st.columns(3)\r\n    \r\n    with col1:\r\n        st.info(f\"**Country:** {uni_info['country']}\")\r\n        st.info(f\"**Rank:** #{uni_info['rank']}\")\r\n    \r\n    with col2:\r\n        if stats.get('documents'):\r\n            st.success(f\"**Documents:** {stats['documents']['total']}\")\r\n            st.success(f\"**Total Content:** {stats['documents']['total_chars']/1e6:.2f}M chars\")\r\n    \r\n    with col3:\r\n        if stats.get('sessions'):\r\n            st.warning(f\"**Sessions:** {stats['sessions']['sessions']}\")\r\n            st.warning(f\"**Pages Scraped:** {stats['sessions']['total_pages']}\")\r\n    \r\n    # Focus Areas\r\n    st.subheader(\"üéØ Focus Areas\")\r\n    focus_areas = uni_info['focus_areas']\r\n    cols = st.columns(min(5, len(focus_areas)))\r\n    for i, area in enumerate(focus_areas):\r\n        with cols[i % 5]:\r\n            st.button(area, key=f\"focus_{i}\", disabled=True)\r\n    \r\n    # Resources\r\n    st.subheader(\"üåê Resources\")\r\n    for resource_key, resource_info in uni_info['resources'].items():\r\n        with st.expander(f\"üìö {resource_key.upper()}\"):\r\n            st.write(f\"**Description:** {resource_info['description']}\")\r\n            st.write(f\"**URL:** {resource_info['url']}\")\r\n            st.write(f\"**Type:** {resource_info['type']}\")\r\n            st.write(f\"**Formats:** {', '.join(resource_info['format'])}\")\r\n\r\n# ====================\r\n# PAGE: SECURITY\r\n# ====================\r\nelif page == \"Security\":\r\n    st.header(\"üîí Security & Compliance\")\r\n    \r\n    security_summary = db.get_security_summary()\r\n    monitoring = security.get_monitoring_report()\r\n    \r\n    # Metrics\r\n    col1, col2, col3, col4 = st.columns(4)\r\n    \r\n    with col1:\r\n        st.metric(\"Total Checks\", monitoring['statistics']['total_checks'])\r\n    with col2:\r\n        st.metric(\"Compliant\", monitoring['statistics']['compliant'], \r\n                 delta=monitoring['compliance_rate'])\r\n    with col3:\r\n        st.metric(\"Warnings\", monitoring['statistics']['warnings'])\r\n    with col4:\r\n        st.metric(\"Violations\", monitoring['statistics']['violations'],\r\n                 delta=monitoring['statistics']['blocked'], delta_color=\"inverse\")\r\n    \r\n    # Compliance Rate\r\n    st.subheader(\"üìä Compliance Rate\")\r\n    \r\n    stats = monitoring['statistics']\r\n    if stats['total_checks'] > 0:\r\n        fig = go.Figure(data=[go.Pie(\r\n            labels=['Compliant', 'Warnings', 'Violations', 'Blocked'],\r\n            values=[\r\n                stats['compliant'],\r\n                stats['warnings'],\r\n                stats['violations'],\r\n                stats['blocked']\r\n            ],\r\n            marker=dict(colors=['#28a745', '#ffc107', '#fd7e14', '#dc3545'])\r\n        )])\r\n        st.plotly_chart(fig, use_container_width=True)\r\n    \r\n    # Recent Security Events\r\n    st.subheader(\"üìã Recent Security Events\")\r\n    \r\n    recent_logs = monitoring['recent_logs']\r\n    if recent_logs:\r\n        for log in recent_logs[:5]:\r\n            severity = log.get('type', 'info')\r\n            icon = \"üî¥\" if 'violation' in severity else \"üü°\" if 'warning' in severity else \"üü¢\"\r\n            st.text(f\"{icon} [{log['timestamp']}] {log['message']}\")\r\n    else:\r\n        st.success(\"No security events recorded\")\r\n    \r\n    # Security Configuration\r\n    with st.expander(\"‚öôÔ∏è Security Configuration\"):\r\n        config = monitoring['config']\r\n        st.json(config)\r\n\r\n# ====================\r\n# PAGE: SPECIALIZATIONS\r\n# ====================\r\nelif page == \"Specializations\":\r\n    st.header(\"üìö Specialization Coverage\")\r\n    \r\n    coverage = db.get_specialization_coverage()\r\n    \r\n    if coverage:\r\n        # Chart\r\n        fig = px.bar(\r\n            x=list(coverage.keys()),\r\n            y=list(coverage.values()),\r\n            labels={'x': 'Field', 'y': 'Documents'},\r\n            title=\"Documents by Specialization Field\"\r\n        )\r\n        st.plotly_chart(fig, use_container_width=True)\r\n        \r\n        # Table\r\n        st.subheader(\"üìä Detailed Coverage\")\r\n        df = pd.DataFrame({\r\n            'Field': list(coverage.keys()),\r\n            'Documents': list(coverage.values())\r\n        })\r\n        df = df.sort_values('Documents', ascending=False)\r\n        st.dataframe(df, use_container_width=True)\r\n    else:\r\n        st.info(\"No specialization data yet.\")\r\n    \r\n    # Required specializations\r\n    st.subheader(\"üéØ Target Specializations\")\r\n    \r\n    col1, col2, col3 = st.columns(3)\r\n    \r\n    with col1:\r\n        st.markdown(\"**Engineering:**\")\r\n        st.markdown(\"- Civil Engineering\")\r\n        st.markdown(\"- Mechanical Engineering\")\r\n        st.markdown(\"- Electrical Engineering\")\r\n        st.markdown(\"- Computer Engineering\")\r\n        st.markdown(\"- Architecture\")\r\n    \r\n    with col2:\r\n        st.markdown(\"**Management:**\")\r\n        st.markdown(\"- Business Management\")\r\n        st.markdown(\"- Project Management\")\r\n        st.markdown(\"- HR Management\")\r\n        st.markdown(\"- Quality Management\")\r\n    \r\n    with col3:\r\n        st.markdown(\"**Economics:**\")\r\n        st.markdown(\"- Microeconomics\")\r\n        st.markdown(\"- Macroeconomics\")\r\n        st.markdown(\"- Financial Economics\")\r\n        st.markdown(\"- Development Economics\")\r\n\r\n# ====================\r\n# PAGE: DATABASE\r\n# ====================\r\nelif page == \"Database\":\r\n    st.header(\"üíæ Database Explorer\")\r\n    \r\n    table = st.selectbox(\r\n        \"Select Table:\",\r\n        [\"universities\", \"documents\", \"scraping_sessions\", \"security_events\", \"specialization_stats\"]\r\n    )\r\n    \r\n    # Query\r\n    cursor = db.conn.cursor()\r\n    cursor.execute(f\"SELECT * FROM {table} ORDER BY id DESC LIMIT 100\")\r\n    \r\n    rows = cursor.fetchall()\r\n    \r\n    if rows:\r\n        # Convert to DataFrame\r\n        df = pd.DataFrame([dict(row) for row in rows])\r\n        \r\n        st.write(f\"**Records:** {len(df)}\")\r\n        st.dataframe(df, use_container_width=True)\r\n        \r\n        # Download\r\n        csv = df.to_csv(index=False)\r\n        st.download_button(\r\n            label=\"Download CSV\",\r\n            data=csv,\r\n            file_name=f\"{table}_{datetime.now().strftime('%Y%m%d')}.csv\",\r\n            mime=\"text/csv\"\r\n        )\r\n    else:\r\n        st.info(f\"No data in {table} table\")\r\n\r\n# Footer\r\nst.sidebar.markdown(\"---\")\r\nst.sidebar.info(\"\"\"\r\n**University Knowledge System**\r\n\r\nVersion: 1.0  \r\nLast Updated: Nov 2025\r\n\r\n¬© 2025 CAD3D Project\r\n\"\"\")\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T23:26:35.041Z",
    "fileName": "dashboard_university.py",
    "content": "\"\"\"\r\nUniversity Knowledge Dashboard\r\nÿ™ÿßÿ®ŸÑŸà€å ŸÜÿ∏ÿßÿ±ÿ™€å ÿ≥€åÿ≥ÿ™ŸÖ €åÿßÿØ⁄Ø€åÿ±€å ÿØÿßŸÜÿ¥⁄ØÿßŸá€å\r\n\r\nŸÜŸÖÿß€åÿ¥ real-time ÿßÿ∑ŸÑÿßÿπÿßÿ™ÿå ÿ¢ŸÖÿßÿ± Ÿà Ÿàÿ∂ÿπ€åÿ™ ÿ≥€åÿ≥ÿ™ŸÖ\r\n\"\"\"\r\n\r\nimport streamlit as st\r\nimport pandas as pd\r\nimport plotly.express as px\r\nimport plotly.graph_objects as go\r\nfrom datetime import datetime\r\nimport json\r\n\r\n# Must be first Streamlit command\r\nst.set_page_config(\r\n    page_title=\"University Knowledge Dashboard\",\r\n    page_icon=\"üéì\",\r\n    layout=\"wide\"\r\n)\r\n\r\nfrom cad3d.super_ai.knowledge_database import UniversityKnowledgeDB\r\nfrom cad3d.super_ai.university_config import UNIVERSITIES\r\nfrom cad3d.super_ai.agent_security import AgentSecuritySystem\r\n\r\n# Initialize\r\n@st.cache_resource\r\ndef init_systems():\r\n    db = UniversityKnowledgeDB()\r\n    security = AgentSecuritySystem()\r\n    return db, security\r\n\r\ndb, security = init_systems()\r\n\r\n# Title\r\nst.title(\"üéì University Knowledge System Dashboard\")\r\nst.markdown(\"### ÿ≥ÿßŸÖÿßŸÜŸá ŸÜÿ∏ÿßÿ±ÿ™ Ÿà ⁄©ŸÜÿ™ÿ±ŸÑ €åÿßÿØ⁄Ø€åÿ±€å ÿßÿ≤ ÿØÿßŸÜÿ¥⁄ØÿßŸá‚ÄåŸáÿß€å ÿ®ÿ±ÿ™ÿ± ÿØŸÜ€åÿß\")\r\n\r\n# Sidebar\r\nst.sidebar.header(\"üìä Navigation\")\r\npage = st.sidebar.radio(\r\n    \"Select Page:\",\r\n    [\"Overview\", \"Universities\", \"Security\", \"Specializations\", \"Database\"]\r\n)\r\n\r\n# ====================\r\n# PAGE: OVERVIEW\r\n# ====================\r\nif page == \"Overview\":\r\n    st.header(\"üìà System Overview\")\r\n    \r\n    # Key Metrics\r\n    col1, col2, col3, col4 = st.columns(4)\r\n    \r\n    summary = db.get_all_universities_summary()\r\n    total_docs = sum(u['doc_count'] or 0 for u in summary)\r\n    total_unis = len(summary)\r\n    total_content = sum(u['total_content'] or 0 for u in summary)\r\n    \r\n    with col1:\r\n        st.metric(\"Total Universities\", total_unis)\r\n    with col2:\r\n        st.metric(\"Total Documents\", f\"{total_docs:,}\")\r\n    with col3:\r\n        st.metric(\"Total Content\", f\"{total_content/1e6:.1f}M chars\")\r\n    with col4:\r\n        security_summary = db.get_security_summary()\r\n        st.metric(\"Security Events\", security_summary['total_events'])\r\n    \r\n    st.markdown(\"---\")\r\n    \r\n    # Universities Table\r\n    st.subheader(\"üéì Universities Status\")\r\n    \r\n    if summary:\r\n        df = pd.DataFrame(summary)\r\n        df['focus_areas'] = df['focus_areas'].apply(lambda x: ', '.join(json.loads(x)[:3]) if x else '')\r\n        \r\n        display_df = df[['name', 'country', 'rank', 'doc_count', 'compliance_score', 'focus_areas']]\r\n        display_df.columns = ['University', 'Country', 'Rank', 'Documents', 'Compliance %', 'Focus Areas']\r\n        \r\n        st.dataframe(display_df, use_container_width=True)\r\n    else:\r\n        st.info(\"No data yet. Run agents to collect data.\")\r\n    \r\n    # Charts\r\n    col1, col2 = st.columns(2)\r\n    \r\n    with col1:\r\n        st.subheader(\"üìä Documents by University\")\r\n        if summary and total_docs > 0:\r\n            chart_data = pd.DataFrame({\r\n                'University': [u['name'][:20] for u in summary],\r\n                'Documents': [u['doc_count'] or 0 for u in summary]\r\n            })\r\n            fig = px.bar(chart_data, x='University', y='Documents', color='Documents')\r\n            st.plotly_chart(fig, use_container_width=True)\r\n    \r\n    with col2:\r\n        st.subheader(\"üåç Universities by Country\")\r\n        if summary:\r\n            country_counts = {}\r\n            for u in summary:\r\n                country = u['country']\r\n                country_counts[country] = country_counts.get(country, 0) + 1\r\n            \r\n            fig = px.pie(\r\n                names=list(country_counts.keys()),\r\n                values=list(country_counts.values()),\r\n                title=\"Distribution\"\r\n            )\r\n            st.plotly_chart(fig, use_container_width=True)\r\n\r\n# ====================\r\n# PAGE: UNIVERSITIES\r\n# ====================\r\nelif page == \"Universities\":\r\n    st.header(\"üéì Universities Details\")\r\n    \r\n    # Select university\r\n    uni_names = {info['name']: key for key, info in UNIVERSITIES.items()}\r\n    selected_name = st.selectbox(\"Select University:\", list(uni_names.keys()))\r\n    selected_key = uni_names[selected_name]\r\n    \r\n    uni_info = UNIVERSITIES[selected_key]\r\n    stats = db.get_university_stats(selected_key)\r\n    \r\n    # Info cards\r\n    col1, col2, col3 = st.columns(3)\r\n    \r\n    with col1:\r\n        st.info(f\"**Country:** {uni_info['country']}\")\r\n        st.info(f\"**Rank:** #{uni_info['rank']}\")\r\n    \r\n    with col2:\r\n        if stats.get('documents'):\r\n            st.success(f\"**Documents:** {stats['documents']['total']}\")\r\n            st.success(f\"**Total Content:** {stats['documents']['total_chars']/1e6:.2f}M chars\")\r\n    \r\n    with col3:\r\n        if stats.get('sessions'):\r\n            st.warning(f\"**Sessions:** {stats['sessions']['sessions']}\")\r\n            st.warning(f\"**Pages Scraped:** {stats['sessions']['total_pages']}\")\r\n    \r\n    # Focus Areas\r\n    st.subheader(\"üéØ Focus Areas\")\r\n    focus_areas = uni_info['focus_areas']\r\n    cols = st.columns(min(5, len(focus_areas)))\r\n    for i, area in enumerate(focus_areas):\r\n        with cols[i % 5]:\r\n            st.button(area, key=f\"focus_{i}\", disabled=True)\r\n    \r\n    # Resources\r\n    st.subheader(\"üåê Resources\")\r\n    for resource_key, resource_info in uni_info['resources'].items():\r\n        with st.expander(f\"üìö {resource_key.upper()}\"):\r\n            st.write(f\"**Description:** {resource_info['description']}\")\r\n            st.write(f\"**URL:** {resource_info['url']}\")\r\n            st.write(f\"**Type:** {resource_info['type']}\")\r\n            st.write(f\"**Formats:** {', '.join(resource_info['format'])}\")\r\n\r\n# ====================\r\n# PAGE: SECURITY\r\n# ====================\r\nelif page == \"Security\":\r\n    st.header(\"üîí Security & Compliance\")\r\n    \r\n    security_summary = db.get_security_summary()\r\n    monitoring = security.get_monitoring_report()\r\n    \r\n    # Metrics\r\n    col1, col2, col3, col4 = st.columns(4)\r\n    \r\n    with col1:\r\n        st.metric(\"Total Checks\", monitoring['statistics']['total_checks'])\r\n    with col2:\r\n        st.metric(\"Compliant\", monitoring['statistics']['compliant'], \r\n                 delta=monitoring['compliance_rate'])\r\n    with col3:\r\n        st.metric(\"Warnings\", monitoring['statistics']['warnings'])\r\n    with col4:\r\n        st.metric(\"Violations\", monitoring['statistics']['violations'],\r\n                 delta=monitoring['statistics']['blocked'], delta_color=\"inverse\")\r\n    \r\n    # Compliance Rate\r\n    st.subheader(\"üìä Compliance Rate\")\r\n    \r\n    stats = monitoring['statistics']\r\n    if stats['total_checks'] > 0:\r\n        fig = go.Figure(data=[go.Pie(\r\n            labels=['Compliant', 'Warnings', 'Violations', 'Blocked'],\r\n            values=[\r\n                stats['compliant'],\r\n                stats['warnings'],\r\n                stats['violations'],\r\n                stats['blocked']\r\n            ],\r\n            marker=dict(colors=['#28a745', '#ffc107', '#fd7e14', '#dc3545'])\r\n        )])\r\n        st.plotly_chart(fig, use_container_width=True)\r\n    \r\n    # Recent Security Events\r\n    st.subheader(\"üìã Recent Security Events\")\r\n    \r\n    recent_logs = monitoring['recent_logs']\r\n    if recent_logs:\r\n        for log in recent_logs[:5]:\r\n            severity = log.get('type', 'info')\r\n            icon = \"üî¥\" if 'violation' in severity else \"üü°\" if 'warning' in severity else \"üü¢\"\r\n            st.text(f\"{icon} [{log['timestamp']}] {log['message']}\")\r\n    else:\r\n        st.success(\"No security events recorded\")\r\n    \r\n    # Security Configuration\r\n    with st.expander(\"‚öôÔ∏è Security Configuration\"):\r\n        config = monitoring['config']\r\n        st.json(config)\r\n\r\n# ====================\r\n# PAGE: SPECIALIZATIONS\r\n# ====================\r\nelif page == \"Specializations\":\r\n    st.header(\"üìö Specialization Coverage\")\r\n    \r\n    coverage = db.get_specialization_coverage()\r\n    \r\n    if coverage:\r\n        # Chart\r\n        fig = px.bar(\r\n            x=list(coverage.keys()),\r\n            y=list(coverage.values()),\r\n            labels={'x': 'Field', 'y': 'Documents'},\r\n            title=\"Documents by Specialization Field\"\r\n        )\r\n        st.plotly_chart(fig, use_container_width=True)\r\n        \r\n        # Table\r\n        st.subheader(\"üìä Detailed Coverage\")\r\n        df = pd.DataFrame({\r\n            'Field': list(coverage.keys()),\r\n            'Documents': list(coverage.values())\r\n        })\r\n        df = df.sort_values('Documents', ascending=False)\r\n        st.dataframe(df, use_container_width=True)\r\n    else:\r\n        st.info(\"No specialization data yet.\")\r\n    \r\n    # Required specializations\r\n    st.subheader(\"üéØ Target Specializations\")\r\n    \r\n    col1, col2, col3 = st.columns(3)\r\n    \r\n    with col1:\r\n        st.markdown(\"**Engineering:**\")\r\n        st.markdown(\"- Civil Engineering\")\r\n        st.markdown(\"- Mechanical Engineering\")\r\n        st.markdown(\"- Electrical Engineering\")\r\n        st.markdown(\"- Computer Engineering\")\r\n        st.markdown(\"- Architecture\")\r\n    \r\n    with col2:\r\n        st.markdown(\"**Management:**\")\r\n        st.markdown(\"- Business Management\")\r\n        st.markdown(\"- Project Management\")\r\n        st.markdown(\"- HR Management\")\r\n        st.markdown(\"- Quality Management\")\r\n    \r\n    with col3:\r\n        st.markdown(\"**Economics:**\")\r\n        st.markdown(\"- Microeconomics\")\r\n        st.markdown(\"- Macroeconomics\")\r\n        st.markdown(\"- Financial Economics\")\r\n        st.markdown(\"- Development Economics\")\r\n\r\n# ====================\r\n# PAGE: DATABASE\r\n# ====================\r\nelif page == \"Database\":\r\n    st.header(\"üíæ Database Explorer\")\r\n    \r\n    table = st.selectbox(\r\n        \"Select Table:\",\r\n        [\"universities\", \"documents\", \"scraping_sessions\", \"security_events\", \"specialization_stats\"]\r\n    )\r\n    \r\n    # Query\r\n    cursor = db.conn.cursor()\r\n    cursor.execute(f\"SELECT * FROM {table} ORDER BY id DESC LIMIT 100\")\r\n    \r\n    rows = cursor.fetchall()\r\n    \r\n    if rows:\r\n        # Convert to DataFrame\r\n        df = pd.DataFrame([dict(row) for row in rows])\r\n        \r\n        st.write(f\"**Records:** {len(df)}\")\r\n        st.dataframe(df, use_container_width=True)\r\n        \r\n        # Download\r\n        csv = df.to_csv(index=False)\r\n        st.download_button(\r\n            label=\"Download CSV\",\r\n            data=csv,\r\n            file_name=f\"{table}_{datetime.now().strftime('%Y%m%d')}.csv\",\r\n            mime=\"text/csv\"\r\n        )\r\n    else:\r\n        st.info(f\"No data in {table} table\")\r\n\r\n# Footer\r\nst.sidebar.markdown(\"---\")\r\nst.sidebar.info(\"\"\"\r\n**University Knowledge System**\r\n\r\nVersion: 1.0  \r\nLast Updated: Nov 2025\r\n\r\n¬© 2025 CAD3D Project\r\n\"\"\")\r\n",
    "format": "py"
  }
]