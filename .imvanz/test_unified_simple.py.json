[
  {
    "timestamp": "2025-11-21T22:50:31.881Z",
    "fileName": "test_unified_simple.py",
    "content": "\"\"\"\r\nSimple test for Unified AI System\r\nTests RAG + Fine-Tuning + LoRA + Prompt Engineering + PEFT\r\n\"\"\"\r\n\r\nimport io\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  CAD3D UNIFIED AI SYSTEM - 5 METHODS TEST\")\r\nprint(\"=\"*80 + \"\\n\")\r\n\r\n# Initialize\r\nprint(\"Step 1: Initializing Unified AI System...\")\r\nunified = UnifiedAISystem()\r\nprint(\"✓ System initialized\\n\")\r\n\r\n# Get status\r\nprint(\"Step 2: System Status\")\r\nprint(\"-\" * 40)\r\nstatus = unified.get_system_status()\r\nprint(f\"Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n\r\nif status.get('rag'):\r\n    print(f\"RAG Documents: {status['rag']['documents_indexed']}\")\r\n    print(f\"RAG Model: {status['rag']['embedding_model']}\")\r\n\r\nif status.get('security'):\r\n    print(f\"Security: {status['security']['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 1: RAG (Retrieval-Augmented Generation)\")\r\nprint(\"=\"*80)\r\n\r\nquery1 = \"محاسبه مساحت اتاق 5 در 4 متر\"\r\nprint(f\"\\nQuery: {query1}\")\r\nresponse1 = unified.query(\r\n    query=query1,\r\n    method=AIMethodType.RAG,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n    top_k=2\r\n)\r\nprint(f\"Method: {response1['method']}\")\r\nprint(f\"Status: {response1['status']}\")\r\nprint(f\"Retrieved Docs: {response1.get('num_docs', 0)}\")\r\n\r\nif response1.get('retrieved_documents'):\r\n    print(\"\\nTop Documents:\")\r\n    for i, doc in enumerate(response1['retrieved_documents'][:2], 1):\r\n        print(f\"  {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n        print(f\"     {doc['content'][:80]}...\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 2: Fine-Tuning\")\r\nprint(\"=\"*80)\r\n\r\nquery2 = \"تحلیل ساختار نقشه معماری\"\r\nprint(f\"\\nQuery: {query2}\")\r\nresponse2 = unified.query(\r\n    query=query2,\r\n    method=AIMethodType.FINE_TUNING,\r\n    task_type=AITaskType.CAD_ANALYSIS\r\n)\r\nprint(f\"Method: {response2['method']}\")\r\nprint(f\"Status: {response2['status']}\")\r\nprint(f\"Details: {response2.get('method_details', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 3: LoRA (Low-Rank Adaptation)\")\r\nprint(\"=\"*80)\r\n\r\nquery3 = \"محاسبات سازه‌ای برای ساختمان\"\r\nprint(f\"\\nQuery: {query3}\")\r\nresponse3 = unified.query(\r\n    query=query3,\r\n    method=AIMethodType.LORA,\r\n    task_type=AITaskType.STRUCTURAL_CALCULATION\r\n)\r\nprint(f\"Method: {response3['method']}\")\r\nprint(f\"Status: {response3['status']}\")\r\nprint(f\"Adapter: {response3.get('adapter_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 4: Prompt Engineering\")\r\nprint(\"=\"*80)\r\n\r\nquery4 = \"پیشنهاد طراحی خانه\"\r\nprint(f\"\\nQuery: {query4}\")\r\nresponse4 = unified.query(\r\n    query=query4,\r\n    method=AIMethodType.PROMPT_ENGINEERING,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response4['method']}\")\r\nprint(f\"Status: {response4['status']}\")\r\nprint(f\"Template: {response4.get('template_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 5: Auto Method Selection\")\r\nprint(\"=\"*80)\r\n\r\ntest_queries = [\r\n    \"محاسبه حجم اتاق\",\r\n    \"fine-tuning for analysis\",\r\n    \"lora adapter structural\",\r\n    \"prompt template design\"\r\n]\r\n\r\nprint(\"\\nTesting auto-routing:\")\r\nfor query in test_queries:\r\n    response = unified.query(query)\r\n    print(f\"  '{query}' → {response['method']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 6: Hybrid Query\")\r\nprint(\"=\"*80)\r\n\r\nquery_hybrid = \"استانداردهای معماری\"\r\nprint(f\"\\nQuery: {query_hybrid}\")\r\nprint(\"Methods: RAG + Prompt Engineering\")\r\n\r\nresponse_hybrid = unified.hybrid_query(\r\n    query=query_hybrid,\r\n    methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING]\r\n)\r\n\r\nprint(f\"Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\nprint(f\"Individual Responses: {len(response_hybrid['individual_responses'])}\")\r\n\r\nfor method, resp in response_hybrid['individual_responses'].items():\r\n    print(f\"  {method}: {resp['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  METHOD COMPARISON\")\r\nprint(\"=\"*80)\r\n\r\ncomparison = unified.compare_methods()\r\nprint(\"\\nMethod Details:\")\r\nfor method, details in comparison['comparison'].items():\r\n    print(f\"\\n  {method}:\")\r\n    print(f\"    Setup Time: {details['setup_time']}\")\r\n    print(f\"    Cost: {details['cost']}\")\r\n    print(f\"    Quality: {details['quality']}\")\r\n    print(f\"    GPU Required: {details['gpu_required']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  FINAL STATISTICS\")\r\nprint(\"=\"*80)\r\n\r\nfinal_status = unified.get_system_status()\r\nstats = final_status['usage_statistics']\r\n\r\nprint(f\"\\nTotal Queries: {stats['total_queries']}\")\r\nprint(f\"  RAG: {stats['rag_calls']}\")\r\nprint(f\"  Fine-Tuning: {stats['fine_tuning_calls']}\")\r\nprint(f\"  LoRA: {stats['lora_calls']}\")\r\nprint(f\"  Prompt Engineering: {stats['prompt_calls']}\")\r\nprint(f\"  Hybrid: {stats['hybrid_calls']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  SUCCESS!\")\r\nprint(\"=\"*80)\r\nprint(\"\\nAll 4 AI Methods Operational:\")\r\nprint(\"  1. RAG - Retrieval-Augmented Generation\")\r\nprint(\"  2. Fine-Tuning - Specialized Training\")\r\nprint(\"  3. LoRA - Low-Rank Adaptation\")\r\nprint(\"  4. Prompt Engineering - Training-Free\")\r\nprint(\"\\nUnified AI System is ready!\")\r\nprint(\"=\"*80 + \"\\n\")\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T22:51:07.221Z",
    "fileName": "test_unified_simple.py",
    "content": "\"\"\"\r\nSimple test for Unified AI System\r\nTests RAG + Fine-Tuning + LoRA + Prompt Engineering + PEFT\r\n\"\"\"\r\n\r\nimport io\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  CAD3D UNIFIED AI SYSTEM - 5 METHODS TEST\")\r\nprint(\"=\"*80 + \"\\n\")\r\n\r\n# Initialize\r\nprint(\"Step 1: Initializing Unified AI System...\")\r\nunified = UnifiedAISystem()\r\nprint(\"✓ System initialized\\n\")\r\n\r\n# Get status\r\nprint(\"Step 2: System Status\")\r\nprint(\"-\" * 40)\r\nstatus = unified.get_system_status()\r\nprint(f\"Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n\r\nif status.get('rag'):\r\n    print(f\"RAG Documents: {status['rag']['documents_indexed']}\")\r\n    print(f\"RAG Model: {status['rag']['embedding_model']}\")\r\n\r\nif status.get('security'):\r\n    print(f\"Security: {status['security']['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 1: RAG (Retrieval-Augmented Generation)\")\r\nprint(\"=\"*80)\r\n\r\nquery1 = \"محاسبه مساحت اتاق 5 در 4 متر\"\r\nprint(f\"\\nQuery: {query1}\")\r\nresponse1 = unified.query(\r\n    query=query1,\r\n    method=AIMethodType.RAG,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n    top_k=2\r\n)\r\nprint(f\"Method: {response1['method']}\")\r\nprint(f\"Status: {response1['status']}\")\r\nprint(f\"Retrieved Docs: {response1.get('num_docs', 0)}\")\r\n\r\nif response1.get('retrieved_documents'):\r\n    print(\"\\nTop Documents:\")\r\n    for i, doc in enumerate(response1['retrieved_documents'][:2], 1):\r\n        print(f\"  {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n        print(f\"     {doc['content'][:80]}...\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 2: Fine-Tuning\")\r\nprint(\"=\"*80)\r\n\r\nquery2 = \"تحلیل ساختار نقشه معماری\"\r\nprint(f\"\\nQuery: {query2}\")\r\nresponse2 = unified.query(\r\n    query=query2,\r\n    method=AIMethodType.FINE_TUNING,\r\n    task_type=AITaskType.CAD_ANALYSIS\r\n)\r\nprint(f\"Method: {response2['method']}\")\r\nprint(f\"Status: {response2['status']}\")\r\nprint(f\"Details: {response2.get('method_details', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 3: LoRA (Low-Rank Adaptation)\")\r\nprint(\"=\"*80)\r\n\r\nquery3 = \"محاسبات سازه‌ای برای ساختمان\"\r\nprint(f\"\\nQuery: {query3}\")\r\nresponse3 = unified.query(\r\n    query=query3,\r\n    method=AIMethodType.LORA,\r\n    task_type=AITaskType.STRUCTURAL_CALCULATION\r\n)\r\nprint(f\"Method: {response3['method']}\")\r\nprint(f\"Status: {response3['status']}\")\r\nprint(f\"Adapter: {response3.get('adapter_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 4: Prompt Engineering\")\r\nprint(\"=\"*80)\r\n\r\nquery4 = \"پیشنهاد طراحی خانه\"\r\nprint(f\"\\nQuery: {query4}\")\r\nresponse4 = unified.query(\r\n    query=query4,\r\n    method=AIMethodType.PROMPT_ENGINEERING,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response4['method']}\")\r\nprint(f\"Status: {response4['status']}\")\r\nprint(f\"Template: {response4.get('template_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 5: PEFT (Parameter-Efficient Fine-Tuning)\")\r\nprint(\"=\"*80)\r\n\r\nquery5 = \"adapter prefix-tuning for architecture\"\r\nprint(f\"\\nQuery: {query5}\")\r\nresponse5 = unified.query(\r\n    query=query5,\r\n    method=AIMethodType.PEFT,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response5['method']}\")\r\nprint(f\"Status: {response5['status']}\")\r\nprint(f\"Technique: {response5.get('technique', 'N/A')}\")\r\nprint(f\"Adapter: {response5.get('adapter_used', 'N/A')}\")\r\nif response5.get('peft_available') is not None:\r\n    print(f\"PEFT Library: {'Available' if response5['peft_available'] else 'Not installed (lightweight mode)'}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 6: Auto Method Selection\")\r\nprint(\"=\"*80)\r\n\r\ntest_queries = [\r\n    \"محاسبه حجم اتاق\",\r\n    \"fine-tuning for analysis\",\r\n    \"lora adapter structural\",\r\n    \"prompt template design\",\r\n    \"peft prefix adapter\"\r\n]\r\n\r\nprint(\"\\nTesting auto-routing:\")\r\nfor query in test_queries:\r\n    response = unified.query(query)\r\n    print(f\"  '{query}' → {response['method']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 7: Hybrid Query\")\r\nprint(\"=\"*80)\r\n\r\nquery_hybrid = \"استانداردهای معماری\"\r\nprint(f\"\\nQuery: {query_hybrid}\")\r\nprint(\"Methods: RAG + Prompt Engineering\")\r\n\r\nresponse_hybrid = unified.hybrid_query(\r\n    query=query_hybrid,\r\n    methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING]\r\n)\r\n\r\nprint(f\"Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\nprint(f\"Individual Responses: {len(response_hybrid['individual_responses'])}\")\r\n\r\nfor method, resp in response_hybrid['individual_responses'].items():\r\n    print(f\"  {method}: {resp['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  METHOD COMPARISON\")\r\nprint(\"=\"*80)\r\n\r\ncomparison = unified.compare_methods()\r\nprint(\"\\nMethod Details:\")\r\nfor method, details in comparison['comparison'].items():\r\n    print(f\"\\n  {method}:\")\r\n    print(f\"    Setup Time: {details['setup_time']}\")\r\n    print(f\"    Cost: {details['cost']}\")\r\n    print(f\"    Quality: {details['quality']}\")\r\n    print(f\"    GPU Required: {details['gpu_required']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  FINAL STATISTICS\")\r\nprint(\"=\"*80)\r\n\r\nfinal_status = unified.get_system_status()\r\nstats = final_status['usage_statistics']\r\n\r\nprint(f\"\\nTotal Queries: {stats['total_queries']}\")\r\nprint(f\"  RAG: {stats['rag_calls']}\")\r\nprint(f\"  Fine-Tuning: {stats['fine_tuning_calls']}\")\r\nprint(f\"  LoRA: {stats['lora_calls']}\")\r\nprint(f\"  Prompt Engineering: {stats['prompt_calls']}\")\r\nprint(f\"  Hybrid: {stats['hybrid_calls']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  SUCCESS!\")\r\nprint(\"=\"*80)\r\nprint(\"\\nAll 4 AI Methods Operational:\")\r\nprint(\"  1. RAG - Retrieval-Augmented Generation\")\r\nprint(\"  2. Fine-Tuning - Specialized Training\")\r\nprint(\"  3. LoRA - Low-Rank Adaptation\")\r\nprint(\"  4. Prompt Engineering - Training-Free\")\r\nprint(\"\\nUnified AI System is ready!\")\r\nprint(\"=\"*80 + \"\\n\")\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T22:51:08.918Z",
    "fileName": "test_unified_simple.py",
    "content": "\"\"\"\r\nSimple test for Unified AI System\r\nTests RAG + Fine-Tuning + LoRA + Prompt Engineering + PEFT\r\n\"\"\"\r\n\r\nimport io\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  CAD3D UNIFIED AI SYSTEM - 5 METHODS TEST\")\r\nprint(\"=\"*80 + \"\\n\")\r\n\r\n# Initialize\r\nprint(\"Step 1: Initializing Unified AI System...\")\r\nunified = UnifiedAISystem()\r\nprint(\"✓ System initialized\\n\")\r\n\r\n# Get status\r\nprint(\"Step 2: System Status\")\r\nprint(\"-\" * 40)\r\nstatus = unified.get_system_status()\r\nprint(f\"Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n\r\nif status.get('rag'):\r\n    print(f\"RAG Documents: {status['rag']['documents_indexed']}\")\r\n    print(f\"RAG Model: {status['rag']['embedding_model']}\")\r\n\r\nif status.get('security'):\r\n    print(f\"Security: {status['security']['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 1: RAG (Retrieval-Augmented Generation)\")\r\nprint(\"=\"*80)\r\n\r\nquery1 = \"محاسبه مساحت اتاق 5 در 4 متر\"\r\nprint(f\"\\nQuery: {query1}\")\r\nresponse1 = unified.query(\r\n    query=query1,\r\n    method=AIMethodType.RAG,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n    top_k=2\r\n)\r\nprint(f\"Method: {response1['method']}\")\r\nprint(f\"Status: {response1['status']}\")\r\nprint(f\"Retrieved Docs: {response1.get('num_docs', 0)}\")\r\n\r\nif response1.get('retrieved_documents'):\r\n    print(\"\\nTop Documents:\")\r\n    for i, doc in enumerate(response1['retrieved_documents'][:2], 1):\r\n        print(f\"  {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n        print(f\"     {doc['content'][:80]}...\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 2: Fine-Tuning\")\r\nprint(\"=\"*80)\r\n\r\nquery2 = \"تحلیل ساختار نقشه معماری\"\r\nprint(f\"\\nQuery: {query2}\")\r\nresponse2 = unified.query(\r\n    query=query2,\r\n    method=AIMethodType.FINE_TUNING,\r\n    task_type=AITaskType.CAD_ANALYSIS\r\n)\r\nprint(f\"Method: {response2['method']}\")\r\nprint(f\"Status: {response2['status']}\")\r\nprint(f\"Details: {response2.get('method_details', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 3: LoRA (Low-Rank Adaptation)\")\r\nprint(\"=\"*80)\r\n\r\nquery3 = \"محاسبات سازه‌ای برای ساختمان\"\r\nprint(f\"\\nQuery: {query3}\")\r\nresponse3 = unified.query(\r\n    query=query3,\r\n    method=AIMethodType.LORA,\r\n    task_type=AITaskType.STRUCTURAL_CALCULATION\r\n)\r\nprint(f\"Method: {response3['method']}\")\r\nprint(f\"Status: {response3['status']}\")\r\nprint(f\"Adapter: {response3.get('adapter_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 4: Prompt Engineering\")\r\nprint(\"=\"*80)\r\n\r\nquery4 = \"پیشنهاد طراحی خانه\"\r\nprint(f\"\\nQuery: {query4}\")\r\nresponse4 = unified.query(\r\n    query=query4,\r\n    method=AIMethodType.PROMPT_ENGINEERING,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response4['method']}\")\r\nprint(f\"Status: {response4['status']}\")\r\nprint(f\"Template: {response4.get('template_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 5: PEFT (Parameter-Efficient Fine-Tuning)\")\r\nprint(\"=\"*80)\r\n\r\nquery5 = \"adapter prefix-tuning for architecture\"\r\nprint(f\"\\nQuery: {query5}\")\r\nresponse5 = unified.query(\r\n    query=query5,\r\n    method=AIMethodType.PEFT,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response5['method']}\")\r\nprint(f\"Status: {response5['status']}\")\r\nprint(f\"Technique: {response5.get('technique', 'N/A')}\")\r\nprint(f\"Adapter: {response5.get('adapter_used', 'N/A')}\")\r\nif response5.get('peft_available') is not None:\r\n    print(f\"PEFT Library: {'Available' if response5['peft_available'] else 'Not installed (lightweight mode)'}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 6: Auto Method Selection\")\r\nprint(\"=\"*80)\r\n\r\ntest_queries = [\r\n    \"محاسبه حجم اتاق\",\r\n    \"fine-tuning for analysis\",\r\n    \"lora adapter structural\",\r\n    \"prompt template design\",\r\n    \"peft prefix adapter\"\r\n]\r\n\r\nprint(\"\\nTesting auto-routing:\")\r\nfor query in test_queries:\r\n    response = unified.query(query)\r\n    print(f\"  '{query}' → {response['method']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 7: Hybrid Query\")\r\nprint(\"=\"*80)\r\n\r\nquery_hybrid = \"استانداردهای معماری\"\r\nprint(f\"\\nQuery: {query_hybrid}\")\r\nprint(\"Methods: RAG + Prompt Engineering\")\r\n\r\nresponse_hybrid = unified.hybrid_query(\r\n    query=query_hybrid,\r\n    methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING]\r\n)\r\n\r\nprint(f\"Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\nprint(f\"Individual Responses: {len(response_hybrid['individual_responses'])}\")\r\n\r\nfor method, resp in response_hybrid['individual_responses'].items():\r\n    print(f\"  {method}: {resp['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  METHOD COMPARISON\")\r\nprint(\"=\"*80)\r\n\r\ncomparison = unified.compare_methods()\r\nprint(\"\\nMethod Details:\")\r\nfor method, details in comparison['comparison'].items():\r\n    print(f\"\\n  {method}:\")\r\n    print(f\"    Setup Time: {details['setup_time']}\")\r\n    print(f\"    Cost: {details['cost']}\")\r\n    print(f\"    Quality: {details['quality']}\")\r\n    print(f\"    GPU Required: {details['gpu_required']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  FINAL STATISTICS\")\r\nprint(\"=\"*80)\r\n\r\nfinal_status = unified.get_system_status()\r\nstats = final_status['usage_statistics']\r\n\r\nprint(f\"\\nTotal Queries: {stats['total_queries']}\")\r\nprint(f\"  RAG: {stats['rag_calls']}\")\r\nprint(f\"  Fine-Tuning: {stats['fine_tuning_calls']}\")\r\nprint(f\"  LoRA: {stats['lora_calls']}\")\r\nprint(f\"  Prompt Engineering: {stats['prompt_calls']}\")\r\nprint(f\"  Hybrid: {stats['hybrid_calls']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  SUCCESS!\")\r\nprint(\"=\"*80)\r\nprint(\"\\nAll 4 AI Methods Operational:\")\r\nprint(\"  1. RAG - Retrieval-Augmented Generation\")\r\nprint(\"  2. Fine-Tuning - Specialized Training\")\r\nprint(\"  3. LoRA - Low-Rank Adaptation\")\r\nprint(\"  4. Prompt Engineering - Training-Free\")\r\nprint(\"\\nUnified AI System is ready!\")\r\nprint(\"=\"*80 + \"\\n\")\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T22:51:20.341Z",
    "fileName": "test_unified_simple.py",
    "content": "\"\"\"\r\nSimple test for Unified AI System\r\nTests RAG + Fine-Tuning + LoRA + Prompt Engineering + PEFT\r\n\"\"\"\r\n\r\nimport io\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  CAD3D UNIFIED AI SYSTEM - 5 METHODS TEST\")\r\nprint(\"=\"*80 + \"\\n\")\r\n\r\n# Initialize\r\nprint(\"Step 1: Initializing Unified AI System...\")\r\nunified = UnifiedAISystem()\r\nprint(\"✓ System initialized\\n\")\r\n\r\n# Get status\r\nprint(\"Step 2: System Status\")\r\nprint(\"-\" * 40)\r\nstatus = unified.get_system_status()\r\nprint(f\"Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n\r\nif status.get('rag'):\r\n    print(f\"RAG Documents: {status['rag']['documents_indexed']}\")\r\n    print(f\"RAG Model: {status['rag']['embedding_model']}\")\r\n\r\nif status.get('security'):\r\n    print(f\"Security: {status['security']['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 1: RAG (Retrieval-Augmented Generation)\")\r\nprint(\"=\"*80)\r\n\r\nquery1 = \"محاسبه مساحت اتاق 5 در 4 متر\"\r\nprint(f\"\\nQuery: {query1}\")\r\nresponse1 = unified.query(\r\n    query=query1,\r\n    method=AIMethodType.RAG,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n    top_k=2\r\n)\r\nprint(f\"Method: {response1['method']}\")\r\nprint(f\"Status: {response1['status']}\")\r\nprint(f\"Retrieved Docs: {response1.get('num_docs', 0)}\")\r\n\r\nif response1.get('retrieved_documents'):\r\n    print(\"\\nTop Documents:\")\r\n    for i, doc in enumerate(response1['retrieved_documents'][:2], 1):\r\n        print(f\"  {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n        print(f\"     {doc['content'][:80]}...\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 2: Fine-Tuning\")\r\nprint(\"=\"*80)\r\n\r\nquery2 = \"تحلیل ساختار نقشه معماری\"\r\nprint(f\"\\nQuery: {query2}\")\r\nresponse2 = unified.query(\r\n    query=query2,\r\n    method=AIMethodType.FINE_TUNING,\r\n    task_type=AITaskType.CAD_ANALYSIS\r\n)\r\nprint(f\"Method: {response2['method']}\")\r\nprint(f\"Status: {response2['status']}\")\r\nprint(f\"Details: {response2.get('method_details', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 3: LoRA (Low-Rank Adaptation)\")\r\nprint(\"=\"*80)\r\n\r\nquery3 = \"محاسبات سازه‌ای برای ساختمان\"\r\nprint(f\"\\nQuery: {query3}\")\r\nresponse3 = unified.query(\r\n    query=query3,\r\n    method=AIMethodType.LORA,\r\n    task_type=AITaskType.STRUCTURAL_CALCULATION\r\n)\r\nprint(f\"Method: {response3['method']}\")\r\nprint(f\"Status: {response3['status']}\")\r\nprint(f\"Adapter: {response3.get('adapter_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 4: Prompt Engineering\")\r\nprint(\"=\"*80)\r\n\r\nquery4 = \"پیشنهاد طراحی خانه\"\r\nprint(f\"\\nQuery: {query4}\")\r\nresponse4 = unified.query(\r\n    query=query4,\r\n    method=AIMethodType.PROMPT_ENGINEERING,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response4['method']}\")\r\nprint(f\"Status: {response4['status']}\")\r\nprint(f\"Template: {response4.get('template_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 5: PEFT (Parameter-Efficient Fine-Tuning)\")\r\nprint(\"=\"*80)\r\n\r\nquery5 = \"adapter prefix-tuning for architecture\"\r\nprint(f\"\\nQuery: {query5}\")\r\nresponse5 = unified.query(\r\n    query=query5,\r\n    method=AIMethodType.PEFT,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response5['method']}\")\r\nprint(f\"Status: {response5['status']}\")\r\nprint(f\"Technique: {response5.get('technique', 'N/A')}\")\r\nprint(f\"Adapter: {response5.get('adapter_used', 'N/A')}\")\r\nif response5.get('peft_available') is not None:\r\n    print(f\"PEFT Library: {'Available' if response5['peft_available'] else 'Not installed (lightweight mode)'}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 6: Auto Method Selection\")\r\nprint(\"=\"*80)\r\n\r\ntest_queries = [\r\n    \"محاسبه حجم اتاق\",\r\n    \"fine-tuning for analysis\",\r\n    \"lora adapter structural\",\r\n    \"prompt template design\",\r\n    \"peft prefix adapter\"\r\n]\r\n\r\nprint(\"\\nTesting auto-routing:\")\r\nfor query in test_queries:\r\n    response = unified.query(query)\r\n    print(f\"  '{query}' → {response['method']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 7: Hybrid Query\")\r\nprint(\"=\"*80)\r\n\r\nquery_hybrid = \"استانداردهای معماری\"\r\nprint(f\"\\nQuery: {query_hybrid}\")\r\nprint(\"Methods: RAG + Prompt Engineering\")\r\n\r\nresponse_hybrid = unified.hybrid_query(\r\n    query=query_hybrid,\r\n    methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING]\r\n)\r\n\r\nprint(f\"Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\nprint(f\"Individual Responses: {len(response_hybrid['individual_responses'])}\")\r\n\r\nfor method, resp in response_hybrid['individual_responses'].items():\r\n    print(f\"  {method}: {resp['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  METHOD COMPARISON\")\r\nprint(\"=\"*80)\r\n\r\ncomparison = unified.compare_methods()\r\nprint(\"\\nMethod Details:\")\r\nfor method, details in comparison['comparison'].items():\r\n    print(f\"\\n  {method}:\")\r\n    print(f\"    Setup Time: {details['setup_time']}\")\r\n    print(f\"    Cost: {details['cost']}\")\r\n    print(f\"    Quality: {details['quality']}\")\r\n    print(f\"    GPU Required: {details['gpu_required']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  FINAL STATISTICS\")\r\nprint(\"=\"*80)\r\n\r\nfinal_status = unified.get_system_status()\r\nstats = final_status['usage_statistics']\r\n\r\nprint(f\"\\nTotal Queries: {stats['total_queries']}\")\r\nprint(f\"  RAG: {stats['rag_calls']}\")\r\nprint(f\"  Fine-Tuning: {stats['fine_tuning_calls']}\")\r\nprint(f\"  LoRA: {stats['lora_calls']}\")\r\nprint(f\"  Prompt Engineering: {stats['prompt_calls']}\")\r\nprint(f\"  PEFT: {stats['peft_calls']}\")\r\nprint(f\"  Hybrid: {stats['hybrid_calls']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  SUCCESS!\")\r\nprint(\"=\"*80)\r\nprint(\"\\nAll 5 AI Methods Operational:\")\r\nprint(\"  1. RAG - Retrieval-Augmented Generation\")\r\nprint(\"  2. Fine-Tuning - Specialized Training\")\r\nprint(\"  3. LoRA - Low-Rank Adaptation\")\r\nprint(\"  4. Prompt Engineering - Training-Free\")\r\nprint(\"  5. PEFT - Parameter-Efficient Fine-Tuning\")\r\nprint(\"\\nUnified AI System is ready!\")\r\nprint(\"=\"*80 + \"\\n\")\r\n",
    "format": "py"
  },
  {
    "timestamp": "2025-11-21T22:51:21.754Z",
    "fileName": "test_unified_simple.py",
    "content": "\"\"\"\r\nSimple test for Unified AI System\r\nTests RAG + Fine-Tuning + LoRA + Prompt Engineering + PEFT\r\n\"\"\"\r\n\r\nimport io\r\nimport sys\r\nimport os\r\n\r\n# Fix Unicode encoding for Windows\r\nsys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')\r\nsys.path.append(os.path.dirname(os.path.dirname(__file__)))\r\n\r\nfrom cad3d.super_ai.unified_ai_system import (\r\n    UnifiedAISystem,\r\n    AIMethodType,\r\n    AITaskType\r\n)\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  CAD3D UNIFIED AI SYSTEM - 5 METHODS TEST\")\r\nprint(\"=\"*80 + \"\\n\")\r\n\r\n# Initialize\r\nprint(\"Step 1: Initializing Unified AI System...\")\r\nunified = UnifiedAISystem()\r\nprint(\"✓ System initialized\\n\")\r\n\r\n# Get status\r\nprint(\"Step 2: System Status\")\r\nprint(\"-\" * 40)\r\nstatus = unified.get_system_status()\r\nprint(f\"Available Methods: {', '.join(status['unified_ai_system']['methods_available'])}\")\r\n\r\nif status.get('rag'):\r\n    print(f\"RAG Documents: {status['rag']['documents_indexed']}\")\r\n    print(f\"RAG Model: {status['rag']['embedding_model']}\")\r\n\r\nif status.get('security'):\r\n    print(f\"Security: {status['security']['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 1: RAG (Retrieval-Augmented Generation)\")\r\nprint(\"=\"*80)\r\n\r\nquery1 = \"محاسبه مساحت اتاق 5 در 4 متر\"\r\nprint(f\"\\nQuery: {query1}\")\r\nresponse1 = unified.query(\r\n    query=query1,\r\n    method=AIMethodType.RAG,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN,\r\n    top_k=2\r\n)\r\nprint(f\"Method: {response1['method']}\")\r\nprint(f\"Status: {response1['status']}\")\r\nprint(f\"Retrieved Docs: {response1.get('num_docs', 0)}\")\r\n\r\nif response1.get('retrieved_documents'):\r\n    print(\"\\nTop Documents:\")\r\n    for i, doc in enumerate(response1['retrieved_documents'][:2], 1):\r\n        print(f\"  {i}. {doc['doc_id']} (Score: {doc['relevance_score']:.2f})\")\r\n        print(f\"     {doc['content'][:80]}...\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 2: Fine-Tuning\")\r\nprint(\"=\"*80)\r\n\r\nquery2 = \"تحلیل ساختار نقشه معماری\"\r\nprint(f\"\\nQuery: {query2}\")\r\nresponse2 = unified.query(\r\n    query=query2,\r\n    method=AIMethodType.FINE_TUNING,\r\n    task_type=AITaskType.CAD_ANALYSIS\r\n)\r\nprint(f\"Method: {response2['method']}\")\r\nprint(f\"Status: {response2['status']}\")\r\nprint(f\"Details: {response2.get('method_details', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 3: LoRA (Low-Rank Adaptation)\")\r\nprint(\"=\"*80)\r\n\r\nquery3 = \"محاسبات سازه‌ای برای ساختمان\"\r\nprint(f\"\\nQuery: {query3}\")\r\nresponse3 = unified.query(\r\n    query=query3,\r\n    method=AIMethodType.LORA,\r\n    task_type=AITaskType.STRUCTURAL_CALCULATION\r\n)\r\nprint(f\"Method: {response3['method']}\")\r\nprint(f\"Status: {response3['status']}\")\r\nprint(f\"Adapter: {response3.get('adapter_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 4: Prompt Engineering\")\r\nprint(\"=\"*80)\r\n\r\nquery4 = \"پیشنهاد طراحی خانه\"\r\nprint(f\"\\nQuery: {query4}\")\r\nresponse4 = unified.query(\r\n    query=query4,\r\n    method=AIMethodType.PROMPT_ENGINEERING,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response4['method']}\")\r\nprint(f\"Status: {response4['status']}\")\r\nprint(f\"Template: {response4.get('template_used', 'N/A')}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 5: PEFT (Parameter-Efficient Fine-Tuning)\")\r\nprint(\"=\"*80)\r\n\r\nquery5 = \"adapter prefix-tuning for architecture\"\r\nprint(f\"\\nQuery: {query5}\")\r\nresponse5 = unified.query(\r\n    query=query5,\r\n    method=AIMethodType.PEFT,\r\n    task_type=AITaskType.ARCHITECTURAL_DESIGN\r\n)\r\nprint(f\"Method: {response5['method']}\")\r\nprint(f\"Status: {response5['status']}\")\r\nprint(f\"Technique: {response5.get('technique', 'N/A')}\")\r\nprint(f\"Adapter: {response5.get('adapter_used', 'N/A')}\")\r\nif response5.get('peft_available') is not None:\r\n    print(f\"PEFT Library: {'Available' if response5['peft_available'] else 'Not installed (lightweight mode)'}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 6: Auto Method Selection\")\r\nprint(\"=\"*80)\r\n\r\ntest_queries = [\r\n    \"محاسبه حجم اتاق\",\r\n    \"fine-tuning for analysis\",\r\n    \"lora adapter structural\",\r\n    \"prompt template design\",\r\n    \"peft prefix adapter\"\r\n]\r\n\r\nprint(\"\\nTesting auto-routing:\")\r\nfor query in test_queries:\r\n    response = unified.query(query)\r\n    print(f\"  '{query}' → {response['method']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  TEST 7: Hybrid Query\")\r\nprint(\"=\"*80)\r\n\r\nquery_hybrid = \"استانداردهای معماری\"\r\nprint(f\"\\nQuery: {query_hybrid}\")\r\nprint(\"Methods: RAG + Prompt Engineering\")\r\n\r\nresponse_hybrid = unified.hybrid_query(\r\n    query=query_hybrid,\r\n    methods=[AIMethodType.RAG, AIMethodType.PROMPT_ENGINEERING]\r\n)\r\n\r\nprint(f\"Methods Used: {', '.join(response_hybrid['methods_used'])}\")\r\nprint(f\"Individual Responses: {len(response_hybrid['individual_responses'])}\")\r\n\r\nfor method, resp in response_hybrid['individual_responses'].items():\r\n    print(f\"  {method}: {resp['status']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  METHOD COMPARISON\")\r\nprint(\"=\"*80)\r\n\r\ncomparison = unified.compare_methods()\r\nprint(\"\\nMethod Details:\")\r\nfor method, details in comparison['comparison'].items():\r\n    print(f\"\\n  {method}:\")\r\n    print(f\"    Setup Time: {details['setup_time']}\")\r\n    print(f\"    Cost: {details['cost']}\")\r\n    print(f\"    Quality: {details['quality']}\")\r\n    print(f\"    GPU Required: {details['gpu_required']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  FINAL STATISTICS\")\r\nprint(\"=\"*80)\r\n\r\nfinal_status = unified.get_system_status()\r\nstats = final_status['usage_statistics']\r\n\r\nprint(f\"\\nTotal Queries: {stats['total_queries']}\")\r\nprint(f\"  RAG: {stats['rag_calls']}\")\r\nprint(f\"  Fine-Tuning: {stats['fine_tuning_calls']}\")\r\nprint(f\"  LoRA: {stats['lora_calls']}\")\r\nprint(f\"  Prompt Engineering: {stats['prompt_calls']}\")\r\nprint(f\"  PEFT: {stats['peft_calls']}\")\r\nprint(f\"  Hybrid: {stats['hybrid_calls']}\")\r\n\r\nprint(\"\\n\" + \"=\"*80)\r\nprint(\"  SUCCESS!\")\r\nprint(\"=\"*80)\r\nprint(\"\\nAll 5 AI Methods Operational:\")\r\nprint(\"  1. RAG - Retrieval-Augmented Generation\")\r\nprint(\"  2. Fine-Tuning - Specialized Training\")\r\nprint(\"  3. LoRA - Low-Rank Adaptation\")\r\nprint(\"  4. Prompt Engineering - Training-Free\")\r\nprint(\"  5. PEFT - Parameter-Efficient Fine-Tuning\")\r\nprint(\"\\nUnified AI System is ready!\")\r\nprint(\"=\"*80 + \"\\n\")\r\n",
    "format": "py"
  }
]